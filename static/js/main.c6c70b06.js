/*! For license information please see main.c6c70b06.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:o.current}}t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!C.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:k.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+I(l,0):s,E(a)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),N(a,t,i,"",function(e){return e})):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",E(e))for(var u=0;u<e.length;u++){var c=s+I(o=e[u],u);l+=N(o,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,c=s+I(o,u++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,R(S);else{var t=r(c);null!==t&&L(E,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(_),_=-1),p=!0;var s=f;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!N());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&L(E,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,T=null,_=-1,x=5,I=-1;function N(){return!(t.unstable_now()-I<x)}function A(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?k():(C=!1,T=null)}}else C=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=A,k=function(){P.postMessage(null)}}else k=function(){y(A,0)};function R(e){T=e,C||(C=!0,k())}function L(e,n){_=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(v(_),_=-1):g=!0,L(E,s-a))):(e.sortIndex=o,n(u,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),x=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(rn){var r=rn}Reflect.construct(e,[],t)}else{try{t.call()}catch(rn){r=rn}e.call(t.prototype)}else{try{throw Error()}catch(rn){r=rn}e()}}catch(rn){if(rn&&r&&"string"===typeof rn.stack){for(var i=rn.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case T:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(wa){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ce=null;function Te(e){if(e=Ci(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function _e(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function xe(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==ke||null!==Ce)&&(Ne(),xe())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Re=!1}function Oe(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Fe=null,je=!1,Ve=null,Ue={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,s,a,o,l){Me=!1,Fe=null,Oe.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,St,kt,Ct,Tt,_t=!1,xt=[],It=null,Nt=null,At=null,Dt=new Map,Pt=new Map,Rt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ci(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=ki(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ci(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){_t=!1,null!==It&&jt(It)&&(It=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Dt.forEach(Vt),Pt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<xt.length){zt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Dt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Qt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Kt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Qt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Qt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)$r(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dt.set(s,Mt(Dt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var s=Ci(i);if(null!==s&&Et(s),null===(s=$t(e,t,n,r))&&$r(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Gt=null;function $t(e,t,n,r){if(Gt=null,null!==(e=ki(e=Ee(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,en=null;function tn(){if(en)return en;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function an(){return!1}function on(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sn:an,this.isPropagationStopped=an,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var ln,un,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=on(hn),pn=F({},hn,{view:0,detail:0}),mn=on(pn),gn=F({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=on(gn),bn=on(F({},gn,{dataTransfer:0})),wn=on(F({},pn,{relatedTarget:0})),En=on(F({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),Sn=F({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=on(Sn),Cn=on(F({},hn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Nn(){return In}var An=F({},pn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=on(An),Pn=on(F({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(F({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Ln=on(F({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=on(On),Fn=[9,13,27,32],jn=c&&"CompositionEvent"in window,Vn=null;c&&"documentMode"in document&&(Vn=document.documentMode);var Un=c&&"TextEvent"in window&&!Vn,zn=c&&(!jn||Vn&&8<Vn&&11>=Vn),Bn=String.fromCharCode(32),qn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Qn[e.type]:"textarea"===t}function $n(e,t,n,r){_e(r),0<(t=Xr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Jn(e){qr(e,0)}function Zn(e){if(Q(Ti(e)))return e}function er(e,t){if("change"===e)return t}var tr=!1;if(c){var nr;if(c){var rr="oninput"in document;if(!rr){var ir=document.createElement("div");ir.setAttribute("oninput","return;"),rr="function"===typeof ir.oninput}nr=rr}else nr=!1;tr=nr&&(!document.documentMode||9<document.documentMode)}function sr(){Yn&&(Yn.detachEvent("onpropertychange",ar),Xn=Yn=null)}function ar(e){if("value"===e.propertyName&&Zn(Xn)){var t=[];$n(t,Xn,e,Ee(e)),De(Jn,t)}}function or(e,t,n){"focusin"===e?(sr(),Xn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&sr()}function lr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Xn)}function ur(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var hr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function dr(e,t){if(hr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!hr(e[i],t[i]))return!1}return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vr(e){var t=gr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mr(n.ownerDocument.documentElement,n)){if(null!==r&&yr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=pr(n,s);var a=pr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var br=c&&"documentMode"in document&&11>=document.documentMode,wr=null,Er=null,Sr=null,kr=!1;function Cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==wr||wr!==G(r)||("selectionStart"in(r=wr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Sr&&dr(Sr,r)||(Sr=r,0<(r=Xr(Er,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}function Tr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionend:Tr("Transition","TransitionEnd")},xr={},Ir={};function Nr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}c&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Ar=Nr("animationend"),Dr=Nr("animationiteration"),Pr=Nr("animationstart"),Rr=Nr("transitionend"),Lr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Lr.set(e,t),l(t,[e])}for(var Fr=0;Fr<Or.length;Fr++){var jr=Or[Fr];Mr(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Mr(Ar,"onAnimationEnd"),Mr(Dr,"onAnimationIteration"),Mr(Pr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Rr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,u){if(ze.apply(this,arguments),Me){if(!Me)throw Error(s(198));var c=Fe;Me=!1,Fe=null,je||(je=!0,Ve=c)}}(r,t,void 0,e),e.currentTarget=null}function qr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Br(i,o,u),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Br(i,o,u),s=l}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Hr(e,t){var n=t[wi];void 0===n&&(n=t[wi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Wr(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[Kr]){e[Kr]=!0,a.forEach(function(t){"selectionchange"!==t&&(zr.has(t)||Wr(t,!1,e),Wr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Kr]||(t[Kr]=!0,Wr("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=ki(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}De(function(){var r=s,i=Ee(n),a=[];e:{var o=Lr.get(e);if(void 0!==o){var l=dn,u=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":l=Dn;break;case"focusin":u="focus",l=wn;break;case"focusout":u="blur",l=wn;break;case"beforeblur":case"afterblur":l=wn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Ar:case Dr:case Pr:l=En;break;case Rr:l=Ln;break;case"scroll":l=mn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pe(p,d))&&c.push(Yr(p,m,f)))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!ki(u)&&!u[bi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ki(u):null)&&(u!==(h=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=vn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:Ti(l),f=null==u?o:Ti(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,ki(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Jr(f))p++;for(f=0,m=d;m;m=Jr(m))f++;for(;0<p-f;)c=Jr(c),p--;for(;0<f-p;)d=Jr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Jr(c),d=Jr(d)}c=null}else c=null;null!==l&&Zr(a,o,l,c,!1),null!==u&&null!==h&&Zr(a,h,u,c,!0)}if("select"===(l=(o=r?Ti(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=er;else if(Gn(o))if(tr)g=cr;else{g=lr;var y=or}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ur);switch(g&&(g=g(e,r))?$n(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?Ti(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(wr=y,Er=r,Sr=null);break;case"focusout":Sr=Er=wr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,Cr(a,n,i);break;case"selectionchange":if(br)break;case"keydown":case"keyup":Cr(a,n,i)}var v;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Kn?Hn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Kn&&(v=tn()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Kn=!0)),0<(y=Xr(r,b)).length&&(b=new Cn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Wn(n))&&(b.data=v))),(v=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!jn&&Hn(e,t)?(e=tn(),en=Jt=Xt=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Xr(r,"onBeforeInput")).length&&(i=new Cn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}qr(a,t)})}function Yr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Yr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Yr(e,s,i))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=Pe(n,s))&&a.unshift(Yr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(Yr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ei=/\r\n?/g,ti=/\u0000|\uFFFD/g;function ni(e){return("string"===typeof e?e:""+e).replace(ei,"\n").replace(ti,"")}function ri(e,t,n){if(t=ni(t),ni(e)!==t&&n)throw Error(s(425))}function ii(){}var si=null,ai=null;function oi(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var li="function"===typeof setTimeout?setTimeout:void 0,ui="function"===typeof clearTimeout?clearTimeout:void 0,ci="function"===typeof Promise?Promise:void 0,hi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ci?function(e){return ci.resolve(null).then(e).catch(di)}:li;function di(e){setTimeout(function(){throw e})}function fi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function pi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function mi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var gi=Math.random().toString(36).slice(2),yi="__reactFiber$"+gi,vi="__reactProps$"+gi,bi="__reactContainer$"+gi,wi="__reactEvents$"+gi,Ei="__reactListeners$"+gi,Si="__reactHandles$"+gi;function ki(e){var t=e[yi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bi]||n[yi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=mi(e);null!==e;){if(n=e[yi])return n;e=mi(e)}return t}n=(e=n).parentNode}return null}function Ci(e){return!(e=e[yi]||e[bi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[vi]||null}var xi=[],Ii=-1;function Ni(e){return{current:e}}function Ai(e){0>Ii||(e.current=xi[Ii],xi[Ii]=null,Ii--)}function Di(e,t){Ii++,xi[Ii]=e.current,e.current=t}var Pi={},Ri=Ni(Pi),Li=Ni(!1),Oi=Pi;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ji(){Ai(Li),Ai(Ri)}function Vi(e,t,n){if(Ri.current!==Pi)throw Error(s(168));Di(Ri,t),Di(Li,n)}function Ui(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,Oi=Ri.current,Di(Ri,e),Di(Li,Li.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ui(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ai(Li),Ai(Ri),Di(Ri,e)):Ai(Li),Di(Li,n)}var qi=null,Hi=!1,Wi=!1;function Ki(e){null===qi?qi=[e]:qi.push(e)}function Qi(){if(!Wi&&null!==qi){Wi=!0;var e=0,t=bt;try{var n=qi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qi=null,Hi=!1}catch(i){throw null!==qi&&(qi=qi.slice(e+1)),Qe(Ze,Qi),i}finally{bt=t,Wi=!1}}return null}var Gi=[],$i=0,Yi=null,Xi=0,Ji=[],Zi=0,es=null,ts=1,ns="";function rs(e,t){Gi[$i++]=Xi,Gi[$i++]=Yi,Yi=e,Xi=t}function is(e,t,n){Ji[Zi++]=ts,Ji[Zi++]=ns,Ji[Zi++]=es,es=e;var r=ts;e=ns;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ts=1<<32-at(t)+i|n<<i|r,ns=s+e}else ts=1<<s|n<<i|r,ns=e}function ss(e){null!==e.return&&(rs(e,1),is(e,1,0))}function as(e){for(;e===Yi;)Yi=Gi[--$i],Gi[$i]=null,Xi=Gi[--$i],Gi[$i]=null;for(;e===es;)es=Ji[--Zi],Ji[Zi]=null,ns=Ji[--Zi],Ji[Zi]=null,ts=Ji[--Zi],Ji[Zi]=null}var os=null,ls=null,us=!1,cs=null;function hs(e,t){var n=ju(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ds(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,os=e,ls=pi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,os=e,ls=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==es?{id:ts,overflow:ns}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=ju(18,null,null,0)).stateNode=t,n.return=e,e.child=n,os=e,ls=null,!0);default:return!1}}function fs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ps(e){if(us){var t=ls;if(t){var n=t;if(!ds(e,t)){if(fs(e))throw Error(s(418));t=pi(n.nextSibling);var r=os;t&&ds(e,t)?hs(r,n):(e.flags=-4097&e.flags|2,us=!1,os=e)}}else{if(fs(e))throw Error(s(418));e.flags=-4097&e.flags|2,us=!1,os=e}}}function ms(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;os=e}function gs(e){if(e!==os)return!1;if(!us)return ms(e),us=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!oi(e.type,e.memoizedProps)),t&&(t=ls)){if(fs(e))throw ys(),Error(s(418));for(;t;)hs(e,t),t=pi(t.nextSibling)}if(ms(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ls=pi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ls=null}}else ls=os?pi(e.stateNode.nextSibling):null;return!0}function ys(){for(var e=ls;e;)e=pi(e.nextSibling)}function vs(){ls=os=null,us=!1}function bs(e){null===cs?cs=[e]:cs.push(e)}var ws=w.ReactCurrentBatchConfig;function Es(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ss=Ni(null),ks=null,Cs=null,Ts=null;function _s(){Ts=Cs=ks=null}function xs(e){var t=Ss.current;Ai(Ss),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){ks=e,Ts=Cs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_o=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===Cs){if(null===ks)throw Error(s(308));Cs=e,ks.dependencies={lanes:0,firstContext:e}}else Cs=Cs.next=e;return t}var Ds=null;function Ps(e){null===Ds?Ds=[e]:Ds.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ls(e,r)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ls(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ls(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Os=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,c=u=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Os=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);ql|=a,e.lanes=a,e.memoizedState=h}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs=(new r.Component).refs;function Ws(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ks={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ou(),i=lu(e),s=js(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(uu(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ou(),i=lu(e),s=js(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(uu(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ou(),r=lu(e),i=js(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vs(e,i,r))&&(uu(t,e,r,n),Us(t,e,r))}};function Qs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,s))}function Gs(e,t,n){var r=!1,i=Pi,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Fi(t)?Oi:Ri.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Pi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ks,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function $s(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ks.enqueueReplaceState(t,t.state,null)}function Ys(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Hs,Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Fi(t)?Oi:Ri.current,i.context=Mi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Ws(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ks.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Xs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Hs&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Js(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zs(e){return(0,e._init)(e._payload)}function ea(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Uu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Zs(s)===t.type)?((r=i(t,n.props)).ref=Xs(e,t,n),r.return=e,r):((r=zu(n.type,n.key,n.props,null,e.mode,r)).ref=Xs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Bu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Hu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=zu(t.type,t.key,t.props,null,e.mode,n)).ref=Xs(e,null,t),n.return=e,n;case S:return(t=Wu(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Bu(t,e.mode,n,null)).return=e,t;Js(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);Js(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);Js(t,r)}return null}function m(i,s,o,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=a(y,s,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===o.length)return n(i,h),us&&rs(i,m),u;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===c?u=h:c.sibling=h,c=h);return us&&rs(i,m),u}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),us&&rs(i,m),u}function g(i,o,l,u){var c=O(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),us&&rs(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(o=a(v,o,g),null===h?c=v:h.sibling=v,h=v);return us&&rs(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),us&&rs(i,g),c}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var u=a.key,c=s;null!==c;){if(c.key===u){if((u=a.type)===k){if(7===c.tag){n(r,c.sibling),(s=i(c,a.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&Zs(u)===c.type){n(r,c.sibling),(s=i(c,a.props)).ref=Xs(r,c,a),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===k?((s=Bu(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=zu(a.type,a.key,a.props,null,r.mode,l)).ref=Xs(r,s,a),l.return=r,r=l)}return o(r);case S:e:{for(c=a.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Wu(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(c=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(O(a))return g(r,s,a,l);Js(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Hu(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ta=ea(!0),na=ea(!1),ra={},ia=Ni(ra),sa=Ni(ra),aa=Ni(ra);function oa(e){if(e===ra)throw Error(s(174));return e}function la(e,t){switch(Di(aa,t),Di(sa,e),Di(ia,ra),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai(ia),Di(ia,t)}function ua(){Ai(ia),Ai(sa),Ai(aa)}function ca(e){oa(aa.current);var t=oa(ia.current),n=le(t,e.type);t!==n&&(Di(sa,e),Di(ia,n))}function ha(e){sa.current===e&&(Ai(ia),Ai(sa))}var da=Ni(0);function fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pa=[];function ma(){for(var e=0;e<pa.length;e++)pa[e]._workInProgressVersionPrimary=null;pa.length=0}var ga=w.ReactCurrentDispatcher,ya=w.ReactCurrentBatchConfig,va=0,ba=null,Ea=null,Sa=null,ka=!1,Ca=!1,Ta=0,_a=0;function xa(){throw Error(s(321))}function Ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hr(e[n],t[n]))return!1;return!0}function Na(e,t,n,r,i,a){if(va=a,ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ga.current=null===e||null===e.memoizedState?fo:po,e=n(r,i),Ca){a=0;do{if(Ca=!1,Ta=0,25<=a)throw Error(s(301));a+=1,Sa=Ea=null,t.updateQueue=null,ga.current=mo,e=n(r,i)}while(Ca)}if(ga.current=ho,t=null!==Ea&&null!==Ea.next,va=0,Sa=Ea=ba=null,ka=!1,t)throw Error(s(300));return e}function Aa(){var e=0!==Ta;return Ta=0,e}function Da(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Sa?ba.memoizedState=Sa=e:Sa=Sa.next=e,Sa}function Pa(){if(null===Ea){var e=ba.alternate;e=null!==e?e.memoizedState:null}else e=Ea.next;var t=null===Sa?ba.memoizedState:Sa.next;if(null!==t)Sa=t,Ea=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Ea=e).memoizedState,baseState:Ea.baseState,baseQueue:Ea.baseQueue,queue:Ea.queue,next:null},null===Sa?ba.memoizedState=Sa=e:Sa=Sa.next=e}return Sa}function Ra(e,t){return"function"===typeof t?t(e):t}function La(e){var t=Pa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Ea,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,u=null,c=a;do{var h=c.lane;if((va&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,o=r):u=u.next=d,ba.lanes|=h,ql|=h}c=c.next}while(null!==c&&c!==a);null===u?o=r:u.next=l,hr(r,t.memoizedState)||(_o=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ba.lanes|=a,ql|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oa(e){var t=Pa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);hr(a,t.memoizedState)||(_o=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ma(){}function Fa(e,t){var n=ba,r=Pa(),i=t(),a=!hr(r.memoizedState,i);if(a&&(r.memoizedState=i,_o=!0),r=r.queue,$a(Ua.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Sa&&1&Sa.memoizedState.tag){if(n.flags|=2048,Ha(9,Va.bind(null,n,r,i,t),void 0,null),null===Ml)throw Error(s(349));0!==(30&va)||ja(n,t,i)}return i}function ja(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ba.updateQueue)?(t={lastEffect:null,stores:null},ba.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Va(e,t,n,r){t.value=n,t.getSnapshot=r,za(t)&&Ba(e)}function Ua(e,t,n){return n(function(){za(t)&&Ba(e)})}function za(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hr(e,n)}catch(r){return!0}}function Ba(e){var t=Ls(e,1);null!==t&&uu(t,e,1,-1)}function qa(e){var t=Da();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:e},t.queue=e,e=e.dispatch=oo.bind(null,ba,e),[t.memoizedState,e]}function Ha(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ba.updateQueue)?(t={lastEffect:null,stores:null},ba.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Wa(){return Pa().memoizedState}function Ka(e,t,n,r){var i=Da();ba.flags|=e,i.memoizedState=Ha(1|t,n,void 0,void 0===r?null:r)}function Qa(e,t,n,r){var i=Pa();r=void 0===r?null:r;var s=void 0;if(null!==Ea){var a=Ea.memoizedState;if(s=a.destroy,null!==r&&Ia(r,a.deps))return void(i.memoizedState=Ha(t,n,s,r))}ba.flags|=e,i.memoizedState=Ha(1|t,n,s,r)}function Ga(e,t){return Ka(8390656,8,e,t)}function $a(e,t){return Qa(2048,8,e,t)}function Ya(e,t){return Qa(4,2,e,t)}function Xa(e,t){return Qa(4,4,e,t)}function Ja(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Qa(4,4,Ja.bind(null,t,e),n)}function eo(){}function to(e,t){var n=Pa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function no(e,t){var n=Pa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ro(e,t,n){return 0===(21&va)?(e.baseState&&(e.baseState=!1,_o=!0),e.memoizedState=n):(hr(n,t)||(n=mt(),ba.lanes|=n,ql|=n,e.baseState=!0),t)}function io(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ya.transition;ya.transition={};try{e(!1),t()}finally{bt=n,ya.transition=r}}function so(){return Pa().memoizedState}function ao(e,t,n){var r=lu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lo(e))uo(t,n);else if(null!==(n=Rs(e,t,n,r))){uu(n,e,r,ou()),co(n,t,r)}}function oo(e,t,n){var r=lu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lo(e))uo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,hr(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(rn){}null!==(n=Rs(e,t,i,r))&&(uu(n,e,r,i=ou()),co(n,t,r))}}function lo(e){var t=e.alternate;return e===ba||null!==t&&t===ba}function uo(e,t){Ca=ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function co(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var ho={readContext:As,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},fo={readContext:As,useCallback:function(e,t){return Da().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Ga,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ka(4194308,4,Ja.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ka(4,2,e,t)},useMemo:function(e,t){var n=Da();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Da();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ao.bind(null,ba,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Da().memoizedState=e},useState:qa,useDebugValue:eo,useDeferredValue:function(e){return Da().memoizedState=e},useTransition:function(){var e=qa(!1),t=e[0];return e=io.bind(null,e[1]),Da().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ba,i=Da();if(us){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ml)throw Error(s(349));0!==(30&va)||ja(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ga(Ua.bind(null,r,a,e),[e]),r.flags|=2048,Ha(9,Va.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Da(),t=Ml.identifierPrefix;if(us){var n=ns;t=":"+t+"R"+(n=(ts&~(1<<32-at(ts)-1)).toString(32)+n),0<(n=Ta++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_a++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},po={readContext:As,useCallback:to,useContext:As,useEffect:$a,useImperativeHandle:Za,useInsertionEffect:Ya,useLayoutEffect:Xa,useMemo:no,useReducer:La,useRef:Wa,useState:function(){return La(Ra)},useDebugValue:eo,useDeferredValue:function(e){return ro(Pa(),Ea.memoizedState,e)},useTransition:function(){return[La(Ra)[0],Pa().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Fa,useId:so,unstable_isNewReconciler:!1},mo={readContext:As,useCallback:to,useContext:As,useEffect:$a,useImperativeHandle:Za,useInsertionEffect:Ya,useLayoutEffect:Xa,useMemo:no,useReducer:Oa,useRef:Wa,useState:function(){return Oa(Ra)},useDebugValue:eo,useDeferredValue:function(e){var t=Pa();return null===Ea?t.memoizedState=e:ro(t,Ea.memoizedState,e)},useTransition:function(){return[Oa(Ra)[0],Pa().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Fa,useId:so,unstable_isNewReconciler:!1};function go(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function yo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function vo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bo="function"===typeof WeakMap?WeakMap:Map;function wo(e,t,n){(n=js(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xl||(Xl=!0,Jl=r),vo(0,t)},n}function Eo(e,t,n){(n=js(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){vo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){vo(0,t),"function"!==typeof r&&(null===Zl?Zl=new Set([this]):Zl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function So(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new bo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Pu.bind(null,e,t,n),t.then(e,e))}function ko(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Co(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=js(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var To=w.ReactCurrentOwner,_o=!1;function xo(e,t,n,r){t.child=null===e?na(t,null,n,r):ta(t,e.child,n,r)}function Io(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=Na(e,t,n,r,s,i),n=Aa(),null===e||_o?(us&&n&&ss(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xo(e,t,i))}function No(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Vu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ao(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:dr)(a,r)&&e.ref===t.ref)return Xo(e,t,i)}return t.flags|=1,(e=Uu(s,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(dr(s,r)&&e.ref===t.ref){if(_o=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Xo(e,t,i);0!==(131072&e.flags)&&(_o=!0)}}return Ro(e,t,n,r,i)}function Do(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Di(Ul,Vl),Vl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Di(Ul,Vl),Vl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Di(Ul,Vl),Vl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Di(Ul,Vl),Vl|=r;return xo(e,t,i,n),t.child}function Po(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ro(e,t,n,r,i){var s=Fi(n)?Oi:Ri.current;return s=Mi(t,s),Ns(t,i),n=Na(e,t,n,r,s,i),r=Aa(),null===e||_o?(us&&r&&ss(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xo(e,t,i))}function Lo(e,t,n,r,i){if(Fi(n)){var s=!0;zi(t)}else s=!1;if(Ns(t,i),null===t.stateNode)Yo(e,t),Gs(t,n,r),Ys(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=As(u):u=Mi(t,u=Fi(n)?Oi:Ri.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==u)&&$s(t,a,r,u),Os=!1;var d=t.memoizedState;a.state=d,Bs(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Li.current||Os?("function"===typeof c&&(Ws(t,n,c,r),l=t.memoizedState),(o=Os||Qs(t,n,o,r,d,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fs(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Es(t.type,o),a.props=u,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Mi(t,l=Fi(n)?Oi:Ri.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&$s(t,a,r,l),Os=!1,d=t.memoizedState,a.state=d,Bs(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Li.current||Os?("function"===typeof f&&(Ws(t,n,f,r),p=t.memoizedState),(u=Os||Qs(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Oo(e,t,n,r,s,i)}function Oo(e,t,n,r,i,s){Po(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Bi(t,n,!1),Xo(e,t,s);r=t.stateNode,To.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ta(t,e.child,null,s),t.child=ta(t,null,o,s)):xo(e,t,o,s),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function Mo(e){var t=e.stateNode;t.pendingContext?Vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Vi(0,t.context,!1),la(e,t.containerInfo)}function Fo(e,t,n,r,i){return vs(),bs(i),t.flags|=256,xo(e,t,n,r),t.child}var jo,Vo,Uo,zo,Bo={dehydrated:null,treeContext:null,retryLane:0};function qo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ho(e,t,n){var r,i=t.pendingProps,a=da.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Di(da,1&a),null===e)return ps(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=qu(l,i,0,null),e=Bu(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=qo(n),t.memoizedState=Bo,e):Wo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Ko(e,t,o,r=yo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=qu({mode:"visible",children:r.children},i,0,null),(a=Bu(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ta(t,e.child,null,o),t.child.memoizedState=qo(o),t.memoizedState=Bo,a);if(0===(1&t.mode))return Ko(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ko(e,t,o,r=yo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),_o||l){if(null!==(r=Ml)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ls(e,i),uu(r,e,i,-1))}return Su(),Ko(e,t,o,r=yo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Lu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ls=pi(i.nextSibling),os=t,us=!0,cs=null,null!==e&&(Ji[Zi++]=ts,Ji[Zi++]=ns,Ji[Zi++]=es,ts=e.id,ns=e.overflow,es=t),t=Wo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Uu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Uu(r,o):(o=Bu(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?qo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Bo,i}return e=(o=e.child).sibling,i=Uu(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Wo(e,t){return(t=qu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ko(e,t,n,r){return null!==r&&bs(r),ta(t,e.child,null,n),(e=Wo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function Go(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $o(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=da.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qo(e,n,t);else if(19===e.tag)Qo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Di(da,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Go(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Go(t,!0,n,null,s);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ql|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Uu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Jo(e,t){if(!us)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Zo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function el(e,t,n){var r=t.pendingProps;switch(as(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zo(t),null;case 1:case 17:return Fi(t.type)&&ji(),Zo(t),null;case 3:return r=t.stateNode,ua(),Ai(Li),Ai(Ri),ma(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(gs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==cs&&(fu(cs),cs=null))),Vo(e,t),Zo(t),null;case 5:ha(t);var i=oa(aa.current);if(n=t.type,null!==e&&null!=t.stateNode)Uo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Zo(t),null}if(e=oa(ia.current),gs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[yi]=t,r[vi]=a,e=0!==(1&t.mode),n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(i=0;i<Vr.length;i++)Hr(Vr[i],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":Y(r,a),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Hr("invalid",r);break;case"textarea":ie(r,a),Hr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&ri(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&ri(r.textContent,u,e),i=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Hr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ii)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[yi]=t,e[vi]=r,jo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Hr("cancel",e),Hr("close",e),i=r;break;case"iframe":case"object":case"embed":Hr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Vr.length;i++)Hr(Vr[i],e);i=r;break;case"source":Hr("error",e),i=r;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),i=r;break;case"details":Hr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Hr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Hr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Hr("invalid",e)}for(a in ve(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Hr("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ii)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Zo(t),null;case 6:if(e&&null!=t.stateNode)zo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=oa(aa.current),oa(ia.current),gs(t)){if(r=t.stateNode,n=t.memoizedProps,r[yi]=t,(a=r.nodeValue!==n)&&null!==(e=os))switch(e.tag){case 3:ri(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ri(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[yi]=t,t.stateNode=r}return Zo(t),null;case 13:if(Ai(da),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(us&&null!==ls&&0!==(1&t.mode)&&0===(128&t.flags))ys(),vs(),t.flags|=98560,a=!1;else if(a=gs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[yi]=t}else vs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Zo(t),a=!1}else null!==cs&&(fu(cs),cs=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&da.current)?0===zl&&(zl=3):Su())),null!==t.updateQueue&&(t.flags|=4),Zo(t),null);case 4:return ua(),Vo(e,t),null===e&&Qr(t.stateNode.containerInfo),Zo(t),null;case 10:return xs(t.type._context),Zo(t),null;case 19:if(Ai(da),null===(a=t.memoizedState))return Zo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Jo(a,!1);else{if(0!==zl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=fa(e))){for(t.flags|=128,Jo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Di(da,1&da.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>$l&&(t.flags|=128,r=!0,Jo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=fa(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Jo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!us)return Zo(t),null}else 2*Xe()-a.renderingStartTime>$l&&1073741824!==n&&(t.flags|=128,r=!0,Jo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=da.current,Di(da,r?1&n|2:1&n),t):(Zo(t),null);case 22:case 23:return vu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Vl)&&(Zo(t),6&t.subtreeFlags&&(t.flags|=8192)):Zo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function tl(e,t){switch(as(t),t.tag){case 1:return Fi(t.type)&&ji(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ua(),Ai(Li),Ai(Ri),ma(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ha(t),null;case 13:if(Ai(da),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));vs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(da),null;case 4:return ua(),null;case 10:return xs(t.type._context),null;case 22:case 23:return vu(),null;default:return null}}jo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Vo=function(){},Uo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,oa(ia.current);var s,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ii)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Hr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},zo=function(e,t,n,r){n!==r&&(t.flags|=4)};var nl=!1,rl=!1,il="function"===typeof WeakSet?WeakSet:Set,sl=null;function al(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Du(e,t,r)}else n.current=null}function ol(e,t,n){try{n()}catch(r){Du(e,t,r)}}var ll=!1;function ul(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&ol(t,n,s)}i=i.next}while(i!==r)}}function cl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function dl(e){var t=e.alternate;null!==t&&(e.alternate=null,dl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[yi],delete t[vi],delete t[wi],delete t[Ei],delete t[Si])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fl(e){return 5===e.tag||3===e.tag||4===e.tag}function pl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ii));else if(4!==r&&null!==(e=e.child))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}var yl=null,vl=!1;function bl(e,t,n){for(n=n.child;null!==n;)wl(e,t,n),n=n.sibling}function wl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:rl||al(n,t);case 6:var r=yl,i=vl;yl=null,bl(e,t,n),vl=i,null!==(yl=r)&&(vl?(e=yl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):yl.removeChild(n.stateNode));break;case 18:null!==yl&&(vl?(e=yl,n=n.stateNode,8===e.nodeType?fi(e.parentNode,n):1===e.nodeType&&fi(e,n),Bt(e)):fi(yl,n.stateNode));break;case 4:r=yl,i=vl,yl=n.stateNode.containerInfo,vl=!0,bl(e,t,n),yl=r,vl=i;break;case 0:case 11:case 14:case 15:if(!rl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&ol(n,t,a),i=i.next}while(i!==r)}bl(e,t,n);break;case 1:if(!rl&&(al(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Du(n,t,o)}bl(e,t,n);break;case 21:bl(e,t,n);break;case 22:1&n.mode?(rl=(r=rl)||null!==n.memoizedState,bl(e,t,n),rl=r):bl(e,t,n);break;default:bl(e,t,n)}}function El(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new il),t.forEach(function(t){var r=Ou.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Sl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:yl=l.stateNode,vl=!1;break e;case 3:case 4:yl=l.stateNode.containerInfo,vl=!0;break e}l=l.return}if(null===yl)throw Error(s(160));wl(a,o,i),yl=null,vl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(rn){Du(i,t,rn)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)kl(t,e),t=t.sibling}function kl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sl(t,e),Cl(e),4&r){try{ul(3,e,e.return),cl(3,e)}catch(g){Du(e,e.return,g)}try{ul(5,e,e.return)}catch(g){Du(e,e.return,g)}}break;case 1:Sl(t,e),Cl(e),512&r&&null!==n&&al(n,n.return);break;case 5:if(Sl(t,e),Cl(e),512&r&&null!==n&&al(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Du(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,o);var c=be(l,a);for(o=0;o<u.length;o+=2){var h=u[o],d=u[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,c)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[vi]=a}catch(g){Du(e,e.return,g)}}break;case 6:if(Sl(t,e),Cl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Du(e,e.return,g)}}break;case 3:if(Sl(t,e),Cl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Du(e,e.return,g)}break;case 4:default:Sl(t,e),Cl(e);break;case 13:Sl(t,e),Cl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Gl=Xe())),4&r&&El(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(rl=(c=rl)||h,Sl(t,e),rl=c):Sl(t,e),Cl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(sl=e,h=e.child;null!==h;){for(d=sl=h;null!==sl;){switch(p=(f=sl).child,f.tag){case 0:case 11:case 14:case 15:ul(4,f,f.return);break;case 1:al(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Du(r,n,g)}}break;case 5:al(f,f.return);break;case 22:if(null!==f.memoizedState){Il(d);continue}}null!==p?(p.return=f,sl=p):Il(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",o))}catch(g){Du(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Du(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Sl(t,e),Cl(e),4&r&&El(e);case 21:}}function Cl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(fl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),gl(e,pl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ml(e,pl(e),a);break;default:throw Error(s(161))}}catch(Zt){Du(e,e.return,Zt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Tl(e,t,n){sl=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==sl;){var i=sl,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||nl;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||rl;o=nl;var u=rl;if(nl=a,(rl=l)&&!u)for(sl=i;null!==sl;)l=(a=sl).child,22===a.tag&&null!==a.memoizedState?Nl(i):null!==l?(l.return=a,sl=l):Nl(i);for(;null!==s;)sl=s,_l(s,t,n),s=s.sibling;sl=i,nl=o,rl=u}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,sl=s):xl(e)}}function xl(e){for(;null!==sl;){var t=sl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:rl||cl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!rl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Es(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}rl||512&t.flags&&hl(t)}catch(fn){Du(t,t.return,fn)}}if(t===e){sl=null;break}if(null!==(n=t.sibling)){n.return=t.return,sl=n;break}sl=t.return}}function Il(e){for(;null!==sl;){var t=sl;if(t===e){sl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,sl=n;break}sl=t.return}}function Nl(e){for(;null!==sl;){var t=sl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cl(4,t)}catch(Zt){Du(t,n,Zt)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Zt){Du(t,i,Zt)}}var s=t.return;try{hl(t)}catch(Zt){Du(t,s,Zt)}break;case 5:var a=t.return;try{hl(t)}catch(Zt){Du(t,a,Zt)}}}catch(Zt){Du(t,t.return,Zt)}if(t===e){sl=null;break}var o=t.sibling;if(null!==o){o.return=t.return,sl=o;break}sl=t.return}}var Al,Dl=Math.ceil,Pl=w.ReactCurrentDispatcher,Rl=w.ReactCurrentOwner,Ll=w.ReactCurrentBatchConfig,Ol=0,Ml=null,Fl=null,jl=0,Vl=0,Ul=Ni(0),zl=0,Bl=null,ql=0,Hl=0,Wl=0,Kl=null,Ql=null,Gl=0,$l=1/0,Yl=null,Xl=!1,Jl=null,Zl=null,eu=!1,tu=null,nu=0,ru=0,iu=null,su=-1,au=0;function ou(){return 0!==(6&Ol)?Xe():-1!==su?su:su=Xe()}function lu(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==jl?jl&-jl:null!==ws.transition?(0===au&&(au=mt()),au):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function uu(e,t,n,r){if(50<ru)throw ru=0,iu=null,Error(s(185));yt(e,n,r),0!==(2&Ol)&&e===Ml||(e===Ml&&(0===(2&Ol)&&(Hl|=n),4===zl&&pu(e,jl)),cu(e,r),1===n&&0===Ol&&0===(1&t.mode)&&($l=Xe()+500,Hi&&Qi()))}function cu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Ml?jl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Hi=!0,Ki(e)}(mu.bind(null,e)):Ki(mu.bind(null,e)),hi(function(){0===(6&Ol)&&Qi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Mu(n,hu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hu(e,t){if(su=-1,au=0,0!==(6&Ol))throw Error(s(327));var n=e.callbackNode;if(Nu()&&e.callbackNode!==n)return null;var r=dt(e,e===Ml?jl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ku(e,r);else{t=r;var i=Ol;Ol|=2;var a=Eu();for(Ml===e&&jl===t||(Yl=null,$l=Xe()+500,bu(e,t));;)try{Tu();break}catch(l){wu(e,l)}_s(),Pl.current=a,Ol=i,null!==Fl?t=0:(Ml=null,jl=0,t=zl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=du(e,i))),1===t)throw n=Bl,bu(e,0),pu(e,r),cu(e,Xe()),n;if(6===t)pu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hr(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ku(e,r))&&(0!==(a=pt(e))&&(r=a,t=du(e,a))),1===t))throw n=Bl,bu(e,0),pu(e,r),cu(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Iu(e,Ql,Yl);break;case 3:if(pu(e,r),(130023424&r)===r&&10<(t=Gl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ou(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=li(Iu.bind(null,e,Ql,Yl),t);break}Iu(e,Ql,Yl);break;case 4:if(pu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dl(r/1960))-r)){e.timeoutHandle=li(Iu.bind(null,e,Ql,Yl),r);break}Iu(e,Ql,Yl);break;default:throw Error(s(329))}}}return cu(e,Xe()),e.callbackNode===n?hu.bind(null,e):null}function du(e,t){var n=Kl;return e.current.memoizedState.isDehydrated&&(bu(e,t).flags|=256),2!==(e=ku(e,t))&&(t=Ql,Ql=n,null!==t&&fu(t)),e}function fu(e){null===Ql?Ql=e:Ql.push.apply(Ql,e)}function pu(e,t){for(t&=~Wl,t&=~Hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function mu(e){if(0!==(6&Ol))throw Error(s(327));Nu();var t=dt(e,0);if(0===(1&t))return cu(e,Xe()),null;var n=ku(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=du(e,r))}if(1===n)throw n=Bl,bu(e,0),pu(e,t),cu(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Iu(e,Ql,Yl),cu(e,Xe()),null}function gu(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&($l=Xe()+500,Hi&&Qi())}}function yu(e){null!==tu&&0===tu.tag&&0===(6&Ol)&&Nu();var t=Ol;Ol|=1;var n=Ll.transition,r=bt;try{if(Ll.transition=null,bt=1,e)return e()}finally{bt=r,Ll.transition=n,0===(6&(Ol=t))&&Qi()}}function vu(){Vl=Ul.current,Ai(Ul)}function bu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ui(n)),null!==Fl)for(n=Fl.return;null!==n;){var r=n;switch(as(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ji();break;case 3:ua(),Ai(Li),Ai(Ri),ma();break;case 5:ha(r);break;case 4:ua();break;case 13:case 19:Ai(da);break;case 10:xs(r.type._context);break;case 22:case 23:vu()}n=n.return}if(Ml=e,Fl=e=Uu(e.current,null),jl=Vl=t,zl=0,Bl=null,Wl=Hl=ql=0,Ql=Kl=null,null!==Ds){for(t=0;t<Ds.length;t++)if(null!==(r=(n=Ds[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ds=null}return e}function wu(e,t){for(;;){var n=Fl;try{if(_s(),ga.current=ho,ka){for(var r=ba.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ka=!1}if(va=0,Sa=Ea=ba=null,Ca=!1,Ta=0,Rl.current=null,null===n||null===n.return){zl=1,Bl=t,Fl=null;break}e:{var a=e,o=n.return,l=n,u=t;if(t=jl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ko(o);if(null!==p){p.flags&=-257,Co(p,o,l,0,t),1&p.mode&&So(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){So(a,c,t),Su();break e}u=Error(s(426))}else if(us&&1&l.mode){var y=ko(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),Co(y,o,l,0,t),bs(go(u,l));break e}}a=u=go(u,l),4!==zl&&(zl=2),null===Kl?Kl=[a]:Kl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zs(a,wo(0,u,t));break e;case 1:l=u;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Zl||!Zl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zs(a,Eo(a,l,t));break e}}a=a.return}while(null!==a)}xu(n)}catch(yn){t=yn,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function Eu(){var e=Pl.current;return Pl.current=ho,null===e?ho:e}function Su(){0!==zl&&3!==zl&&2!==zl||(zl=4),null===Ml||0===(268435455&ql)&&0===(268435455&Hl)||pu(Ml,jl)}function ku(e,t){var n=Ol;Ol|=2;var r=Eu();for(Ml===e&&jl===t||(Yl=null,bu(e,t));;)try{Cu();break}catch(i){wu(e,i)}if(_s(),Ol=n,Pl.current=r,null!==Fl)throw Error(s(261));return Ml=null,jl=0,zl}function Cu(){for(;null!==Fl;)_u(Fl)}function Tu(){for(;null!==Fl&&!$e();)_u(Fl)}function _u(e){var t=Al(e.alternate,e,Vl);e.memoizedProps=e.pendingProps,null===t?xu(e):Fl=t,Rl.current=null}function xu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=el(n,t,Vl)))return void(Fl=n)}else{if(null!==(n=tl(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return zl=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===zl&&(zl=5)}function Iu(e,t,n){var r=bt,i=Ll.transition;try{Ll.transition=null,bt=1,function(e,t,n,r){do{Nu()}while(null!==tu);if(0!==(6&Ol))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Ml&&(Fl=Ml=null,jl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||eu||(eu=!0,Mu(tt,function(){return Nu(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ll.transition,Ll.transition=null;var o=bt;bt=1;var l=Ol;Ol|=4,Rl.current=null,function(e,t){if(si=Ht,yr(e=gr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Ur){n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(u=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=o),f===a&&++h===r&&(u=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ai={focusedElem:e,selectionRange:n},Ht=!1,sl=t;null!==sl;)if(e=(t=sl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,sl=e;else for(;null!==sl;){t=sl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Es(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(Ur){Du(t,t.return,Ur)}if(null!==(e=t.sibling)){e.return=t.return,sl=e;break}sl=t.return}m=ll,ll=!1}(e,n),kl(n,e),vr(ai),Ht=!!si,ai=si=null,e.current=n,Tl(n,e,i),Ye(),Ol=l,bt=o,Ll.transition=a}else e.current=n;if(eu&&(eu=!1,tu=e,nu=i),a=e.pendingLanes,0===a&&(Zl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),cu(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xl)throw Xl=!1,e=Jl,Jl=null,e;0!==(1&nu)&&0!==e.tag&&Nu(),a=e.pendingLanes,0!==(1&a)?e===iu?ru++:(ru=0,iu=e):ru=0,Qi()}(e,t,n,r)}finally{Ll.transition=i,bt=r}return null}function Nu(){if(null!==tu){var e=wt(nu),t=Ll.transition,n=bt;try{if(Ll.transition=null,bt=16>e?16:e,null===tu)var r=!1;else{if(e=tu,tu=null,nu=0,0!==(6&Ol))throw Error(s(331));var i=Ol;for(Ol|=4,sl=e.current;null!==sl;){var a=sl,o=a.child;if(0!==(16&sl.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(sl=c;null!==sl;){var h=sl;switch(h.tag){case 0:case 11:case 15:ul(8,h,a)}var d=h.child;if(null!==d)d.return=h,sl=d;else for(;null!==sl;){var f=(h=sl).sibling,p=h.return;if(dl(h),h===c){sl=null;break}if(null!==f){f.return=p,sl=f;break}sl=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}sl=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,sl=o;else e:for(;null!==sl;){if(0!==(2048&(a=sl).flags))switch(a.tag){case 0:case 11:case 15:ul(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,sl=v;break e}sl=a.return}}var b=e.current;for(sl=b;null!==sl;){var w=(o=sl).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,sl=w;else e:for(o=b;null!==sl;){if(0!==(2048&(l=sl).flags))try{switch(l.tag){case 0:case 11:case 15:cl(9,l)}}catch(yn){Du(l,l.return,yn)}if(l===o){sl=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,sl=E;break e}sl=l.return}}if(Ol=i,Qi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(yn){}r=!0}return r}finally{bt=n,Ll.transition=t}}return!1}function Au(e,t,n){e=Vs(e,t=wo(0,t=go(n,t),1),1),t=ou(),null!==e&&(yt(e,1,t),cu(e,t))}function Du(e,t,n){if(3===e.tag)Au(e,e,n);else for(;null!==t;){if(3===t.tag){Au(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zl||!Zl.has(r))){t=Vs(t,e=Eo(t,e=go(n,e),1),1),e=ou(),null!==t&&(yt(t,1,e),cu(t,e));break}}t=t.return}}function Pu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ou(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(jl&n)===n&&(4===zl||3===zl&&(130023424&jl)===jl&&500>Xe()-Gl?bu(e,0):Wl|=n),cu(e,t)}function Ru(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=ou();null!==(e=Ls(e,t))&&(yt(e,t,n),cu(e,n))}function Lu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ru(e,n)}function Ou(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ru(e,n)}function Mu(e,t){return Qe(e,t)}function Fu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ju(e,t,n,r){return new Fu(e,t,n,r)}function Vu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uu(e,t){var n=e.alternate;return null===n?((n=ju(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zu(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Vu(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Bu(n.children,i,a,t);case C:o=8,i|=8;break;case T:return(e=ju(12,n,t,2|i)).elementType=T,e.lanes=a,e;case N:return(e=ju(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=ju(19,n,t,i)).elementType=A,e.lanes=a,e;case R:return qu(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case x:o=9;break e;case I:o=11;break e;case D:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=ju(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Bu(e,t,n,r){return(e=ju(7,e,r,t)).lanes=n,e}function qu(e,t,n,r){return(e=ju(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Hu(e,t,n){return(e=ju(6,e,null,t)).lanes=n,e}function Wu(e,t,n){return(t=ju(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ku(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qu(e,t,n,r,i,s,a,o,l){return e=new Ku(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=ju(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function Gu(e){if(!e)return Pi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Fi(n))return Ui(e,n,t)}return t}function $u(e,t,n,r,i,s,a,o,l){return(e=Qu(n,r,!0,e,0,s,0,o,l)).context=Gu(null),n=e.current,(s=js(r=ou(),i=lu(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,i),e.current.lanes=i,yt(e,i,r),cu(e,r),e}function Yu(e,t,n,r){var i=t.current,s=ou(),a=lu(i);return n=Gu(n),null===t.context?t.context=n:t.pendingContext=n,(t=js(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vs(i,t,a))&&(uu(e,i,a,s),Us(e,i,a)),a}function Xu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ju(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zu(e,t){Ju(e,t),(e=e.alternate)&&Ju(e,t)}Al=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Li.current)_o=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _o=!1,function(e,t,n){switch(t.tag){case 3:Mo(t),vs();break;case 5:ca(t);break;case 1:Fi(t.type)&&zi(t);break;case 4:la(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Di(Ss,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Di(da,1&da.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ho(e,t,n):(Di(da,1&da.current),null!==(e=Xo(e,t,n))?e.sibling:null);Di(da,1&da.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return $o(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Di(da,da.current),r)break;return null;case 22:case 23:return t.lanes=0,Do(e,t,n)}return Xo(e,t,n)}(e,t,n);_o=0!==(131072&e.flags)}else _o=!1,us&&0!==(1048576&t.flags)&&is(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yo(e,t),e=t.pendingProps;var i=Mi(t,Ri.current);Ns(t,n),i=Na(null,t,r,e,i,n);var a=Aa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fi(r)?(a=!0,zi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ms(t),i.updater=Ks,t.stateNode=i,i._reactInternals=t,Ys(t,r,e,n),t=Oo(null,t,r,!0,a,n)):(t.tag=0,us&&a&&ss(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Vu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===D)return 14}return 2}(r),e=Es(r,e),i){case 0:t=Ro(null,t,r,e,n);break e;case 1:t=Lo(null,t,r,e,n);break e;case 11:t=Io(null,t,r,e,n);break e;case 14:t=No(null,t,r,Es(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ro(e,t,r,i=t.elementType===r?i:Es(r,i),n);case 1:return r=t.type,i=t.pendingProps,Lo(e,t,r,i=t.elementType===r?i:Es(r,i),n);case 3:e:{if(Mo(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fs(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fo(e,t,r,n,i=go(Error(s(423)),t));break e}if(r!==i){t=Fo(e,t,r,n,i=go(Error(s(424)),t));break e}for(ls=pi(t.stateNode.containerInfo.firstChild),os=t,us=!0,cs=null,n=na(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(vs(),r===i){t=Xo(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return ca(t),null===e&&ps(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,oi(r,i)?o=null:null!==a&&oi(r,a)&&(t.flags|=32),Po(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&ps(t),null;case 13:return Ho(e,t,n);case 4:return la(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ta(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:Es(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Di(Ss,r._currentValue),r._currentValue=o,null!==a)if(hr(a.value,o)){if(a.children===i.children&&!Li.current){t=Xo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=js(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Is(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Is(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=As(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=Es(r=t.type,t.pendingProps),No(e,t,r,i=Es(r.type,i),n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Es(r,i),Yo(e,t),t.tag=1,Fi(r)?(e=!0,zi(t)):e=!1,Ns(t,n),Gs(t,r,i),Ys(t,r,i,n),Oo(null,t,r,!0,e,n);case 19:return $o(e,t,n);case 22:return Do(e,t,n)}throw Error(s(156,t.tag))};var ec="function"===typeof reportError?reportError:function(e){console.error(e)};function tc(e){this._internalRoot=e}function nc(e){this._internalRoot=e}function rc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function sc(){}function ac(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Xu(a);o.call(e)}}Yu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Xu(a);s.call(e)}}var a=$u(t,r,e,0,null,!1,0,"",sc);return e._reactRootContainer=a,e[bi]=a.current,Qr(8===e.nodeType?e.parentNode:e),yu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Xu(l);o.call(e)}}var l=Qu(e,0,!1,null,0,!1,0,"",sc);return e._reactRootContainer=l,e[bi]=l.current,Qr(8===e.nodeType?e.parentNode:e),yu(function(){Yu(t,l,n,r)}),l}(n,t,e,i,r);return Xu(a)}nc.prototype.render=tc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Yu(e,t,null,null)},nc.prototype.unmount=tc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;yu(function(){Yu(null,e,null,null)}),t[bi]=null}},nc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),cu(t,Xe()),0===(6&Ol)&&($l=Xe()+500,Qi()))}break;case 13:yu(function(){var t=Ls(e,1);if(null!==t){var n=ou();uu(t,e,1,n)}}),Zu(e,1)}},St=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)uu(t,e,134217728,ou());Zu(e,134217728)}},kt=function(e){if(13===e.tag){var t=lu(e),n=Ls(e,t);if(null!==n)uu(n,e,t,ou());Zu(e,t)}},Ct=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));Q(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=gu,Ne=yu;var oc={usingClientEntryPoint:!1,Events:[Ci,Ti,_i,_e,xe,gu]},lc={findFiberByHostInstance:ki,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},uc={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{it=cc.inject(uc),st=cc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!rc(e))throw Error(s(299));var n=!1,r="",i=ec;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Qu(e,1,!1,null,0,n,0,r,i),e[bi]=t.current,Qr(8===e.nodeType?e.parentNode:e),new tc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return yu(e)},t.hydrate=function(e,t,n){if(!ic(t))throw Error(s(200));return ac(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!rc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=ec;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=$u(t,null,e,1,null!=n?n:null,i,0,a,o),e[bi]=t.current,Qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new nc(t)},t.render=function(e,t,n){if(!ic(t))throw Error(s(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(s(40));return!!e._reactRootContainer&&(yu(function(){ac(null,null,e,!1,function(){e._reactRootContainer=null,e[bi]=null})}),!0)},t.unstable_batchedUpdates=gu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ac(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r,i=n(43),s=n(391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(null,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var o=function(e){return e};var l="beforeunload",u="popstate";function c(e){e.preventDefault(),e.returnValue=""}function h(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter(function(e){return e!==t})}},call:function(t){e.forEach(function(e){return e&&e(t)})}}}function d(){return Math.random().toString(36).substr(2,8)}function f(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,s=e.hash,a=void 0===s?"":s;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function p(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}const m=(0,i.createContext)(null);const g=(0,i.createContext)(null);const y=(0,i.createContext)({outlet:null,matches:[]});function v(e,t){if(!e)throw new Error(t)}function b(e,t,n){void 0===n&&(n="/");let r=P(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a)s=N(i[a],r);return s}function w(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((e,i)=>{let s={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(r)||v(!1),s.relativePath=s.relativePath.slice(r.length));let a=R([r,s.relativePath]),o=n.concat(s);e.children&&e.children.length>0&&(!0===e.index&&v(!1),w(e.children,t,o,a)),(null!=e.path||e.index)&&t.push({path:a,score:I(a,e.index),routesMeta:o})}),t}const E=/^:\w+$/,S=3,k=2,C=1,T=10,_=-2,x=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(x)&&(r+=_),t&&(r+=k),n.filter(e=>!x(e)).reduce((e,t)=>e+(E.test(t)?S:""===t?C:T),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!u)return null;Object.assign(r,u.params);let c=e.route;s.push({params:r,pathname:R([i,u.pathname]),pathnameBase:L(R([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=R([i,u.pathnameBase]))}return s}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(e,t)=>(r.push(t),"([^\\/]+)"));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{if("*"===t){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e){try{return decodeURIComponent(e)}catch(t){return e}}(o[n]||""),e},{}),pathname:s,pathnameBase:a,pattern:e}}function D(e,t,n){let r,i="string"===typeof e?p(e):e,s=""===e||""===i.pathname?"/":i.pathname;if(null==s)r=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let a=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:O(r),hash:M(i)}}(i,r);return s&&"/"!==s&&s.endsWith("/")&&!a.pathname.endsWith("/")&&(a.pathname+="/"),a}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const R=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function F(e){j()||v(!1);let{basename:t,navigator:n}=(0,i.useContext)(m),{hash:r,pathname:s,search:a}=B(e),o=s;if("/"!==t){let n=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?p(e).pathname:e.pathname}(e),r=null!=n&&n.endsWith("/");o="/"===s?t+(r?"/":""):R([t,s])}return n.createHref({pathname:o,search:a,hash:r})}function j(){return null!=(0,i.useContext)(g)}function V(){return j()||v(!1),(0,i.useContext)(g).location}function U(){j()||v(!1);let{basename:e,navigator:t}=(0,i.useContext)(m),{matches:n}=(0,i.useContext)(y),{pathname:r}=V(),s=JSON.stringify(n.map(e=>e.pathnameBase)),a=(0,i.useRef)(!1);(0,i.useEffect)(()=>{a.current=!0});let o=(0,i.useCallback)(function(n,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof n)return void t.go(n);let o=D(n,JSON.parse(s),r);"/"!==e&&(o.pathname=R([e,o.pathname])),(i.replace?t.replace:t.push)(o,i.state)},[e,t,s,r]);return o}function z(){let{matches:e}=(0,i.useContext)(y),t=e[e.length-1];return t?t.params:{}}function B(e){let{matches:t}=(0,i.useContext)(y),{pathname:n}=V(),r=JSON.stringify(t.map(e=>e.pathnameBase));return(0,i.useMemo)(()=>D(e,JSON.parse(r),n),[e,r,n])}function q(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((n,r,s)=>(0,i.createElement)(y.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,s+1))}}),null)}function H(e){v(!1)}function W(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1}=e;j()&&v(!1);let u=L(t),c=(0,i.useMemo)(()=>({basename:u,navigator:o,static:l}),[u,o,l]);"string"===typeof s&&(s=p(s));let{pathname:h="/",search:d="",hash:f="",state:y=null,key:b="default"}=s,w=(0,i.useMemo)(()=>{let e=P(h,u);return null==e?null:{pathname:e,search:d,hash:f,state:y,key:b}},[u,h,d,f,y,b]);return null==w?null:(0,i.createElement)(m.Provider,{value:c},(0,i.createElement)(g.Provider,{children:n,value:{location:w,navigationType:a}}))}function K(e){let{children:t,location:n}=e;return function(e,t){j()||v(!1);let{matches:n}=(0,i.useContext)(y),r=n[n.length-1],s=r?r.params:{},a=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;let o,l=V();if(t){var u;let e="string"===typeof t?p(t):t;"/"===a||(null==(u=e.pathname)?void 0:u.startsWith(a))||v(!1),o=e}else o=l;let c=o.pathname||"/",h=b(e,{pathname:"/"===a?c:c.slice(a.length)||"/"});return q(h&&h.map(e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:R([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:R([a,e.pathnameBase])})),n)}(Q(t),n)}function Q(e){let t=[];return i.Children.forEach(e,e=>{if(!(0,i.isValidElement)(e))return;if(e.type===i.Fragment)return void t.push.apply(t,Q(e.props.children));e.type!==H&&v(!1);let n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=Q(e.props.children)),t.push(n)}),t}function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function $(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const Y=["onClick","reloadDocument","replace","state","target","to"],X=["aria-current","caseSensitive","className","end","style","to","children"];function J(e){let{basename:t,children:n,window:s}=e,m=(0,i.useRef)();null==m.current&&(m.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,i=n.history;function s(){var e=n.location,t=e.pathname,r=e.search,s=e.hash,a=i.state||{};return[a.idx,o({pathname:t,search:r,hash:s,state:a.usr||null,key:a.key||"default"})]}var m=null;n.addEventListener(u,function(){if(m)E.call(m),m=null;else{var e=r.Pop,t=s(),n=t[0],i=t[1];if(E.length){if(null!=n){var a=v-n;a&&(m={action:e,location:i,retry:function(){x(-1*a)}},x(a))}}else _(e)}});var g=r.Pop,y=s(),v=y[0],b=y[1],w=h(),E=h();function S(e){return"string"===typeof e?e:f(e)}function k(e,t){return void 0===t&&(t=null),o(a({pathname:b.pathname,hash:"",search:""},"string"===typeof e?p(e):e,{state:t,key:d()}))}function C(e,t){return[{usr:e.state,key:e.key,idx:t},S(e)]}function T(e,t,n){return!E.length||(E.call({action:e,location:t,retry:n}),!1)}function _(e){g=e;var t=s();v=t[0],b=t[1],w.call({action:g,location:b})}function x(e){i.go(e)}null==v&&(v=0,i.replaceState(a({},i.state,{idx:v}),""));var I={get action(){return g},get location(){return b},createHref:S,push:function e(t,s){var a=r.Push,o=k(t,s);if(T(a,o,function(){e(t,s)})){var l=C(o,v+1),u=l[0],c=l[1];try{i.pushState(u,"",c)}catch(h){n.location.assign(c)}_(a)}},replace:function e(t,n){var s=r.Replace,a=k(t,n);if(T(s,a,function(){e(t,n)})){var o=C(a,v),l=o[0],u=o[1];i.replaceState(l,"",u),_(s)}},go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(e){return w.push(e)},block:function(e){var t=E.push(e);return 1===E.length&&n.addEventListener(l,c),function(){t(),E.length||n.removeEventListener(l,c)}}};return I}({window:s}));let g=m.current,[y,v]=(0,i.useState)({action:g.action,location:g.location});return(0,i.useLayoutEffect)(()=>g.listen(v),[g]),(0,i.createElement)(W,{basename:t,children:n,location:y.location,navigationType:y.action,navigator:g})}const Z=(0,i.forwardRef)(function(e,t){let{onClick:n,reloadDocument:r,replace:s=!1,state:a,target:o,to:l}=e,u=$(e,Y),c=F(l),h=function(e,t){let{target:n,replace:r,state:s}=void 0===t?{}:t,a=U(),o=V(),l=B(e);return(0,i.useCallback)(t=>{if(0===t.button&&(!n||"_self"===n)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();let n=!!r||f(o)===f(l);a(e,{replace:n,state:s})}},[o,a,l,r,s,n,e])}(l,{replace:s,state:a,target:o});return(0,i.createElement)("a",G({},u,{href:c,onClick:function(e){n&&n(e),e.defaultPrevented||r||h(e)},ref:t,target:o}))});const ee=(0,i.forwardRef)(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:l,children:u}=e,c=$(e,X),h=V(),d=B(l),f=h.pathname,p=d.pathname;r||(f=f.toLowerCase(),p=p.toLowerCase());let m,g=f===p||!a&&f.startsWith(p)&&"/"===f.charAt(p.length),y=g?n:void 0;m="function"===typeof s?s({isActive:g}):[s,g?"active":null].filter(Boolean).join(" ");let v="function"===typeof o?o({isActive:g}):o;return(0,i.createElement)(Z,G({},c,{"aria-current":y,className:m,ref:t,style:v,to:l}),"function"===typeof u?u({isActive:g}):u)});function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==te(t)?t:t+""}function re(e,t,n){return(t=ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach(function(t){re(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ae=n(579);const oe=(0,i.createContext)(),le=e=>{let{children:t}=e;const[n,r]=(0,i.useState)([]);return(0,ae.jsx)(oe.Provider,{value:{addItem:(e,t)=>{let i,s=n.find(t=>t.id===e.id);s?(s.amount+=t,i=[...n]):(s=se(se({},e),{},{amount:t}),i=[...n,s]),r(i)},removeItem:e=>{let t=n.filter(t=>t.id!==e);r(t)},clear:()=>{r([])},isInCart:e=>n.some(t=>t.id===e),countProp:()=>{let e=[...n],t=0;return e.forEach(e=>{t+=e.amount}),t},totalPrice:()=>n.reduce((e,t)=>e+t.amount*t.price,0),cart:n},children:t})},ue=()=>{const{countProp:e}=(0,i.useContext)(oe);let t=e();return(0,ae.jsx)("div",{className:"containerCart",children:(0,ae.jsxs)(Z,{to:"/cart",children:[(0,ae.jsx)("img",{className:"shopCart",src:"https://res.cloudinary.com/ds7jaqjll/image/upload/v1664333333/Wish-Him/shoppingCart-01_c0m0as.png",alt:"carrito compras"}),(0,ae.jsx)("span",{className:0===t?"cnt":"count",children:t})]})})},ce=()=>(0,ae.jsx)("section",{className:"navBar",children:(0,ae.jsxs)("div",{className:"containerNV",children:[(0,ae.jsxs)("div",{className:"lg",children:[(0,ae.jsx)(ee,{to:"/",children:(0,ae.jsx)("img",{src:"https://res.cloudinary.com/ds7jaqjll/image/upload/v1664333333/Wish-Him/logo_zj6g8d.png",alt:"logo",className:"logo"})}),(0,ae.jsx)("h4",{children:"WISH HIM"})]}),(0,ae.jsx)("ul",{className:"itemsNv",children:[{name:"Principal",root:"./"},{name:"Ropa",root:"./category/ropa"},{name:"Accesorios",root:"./category/accesorios"},{name:"Search",root:"*"}].map(e=>(0,ae.jsx)(ee,{to:e.root,className:"items",children:(0,ae.jsx)("li",{children:e.name})},e.name))}),(0,ae.jsx)(ue,{})]})}),he=e=>{let{data:t}=e;return(0,ae.jsx)("button",{className:"btns",children:(0,ae.jsx)("span",{children:t})})},de=e=>{let{stock:t,inicial:n,onAdd:r}=e;const[s,a]=(0,i.useState)(n);return(0,i.useEffect)(()=>{a(parseInt(s))},[s]),(0,ae.jsxs)("div",{className:"contStock",children:[(0,ae.jsxs)("div",{className:"containerBt",children:[(0,ae.jsx)("button",{onClick:()=>{s>0&&a(s-1)},children:"-"}),(0,ae.jsx)("span",{children:s}),(0,ae.jsx)("button",{onClick:()=>{s<t&&a(s+1)},children:"+"})]}),(0,ae.jsx)("button",{disabled:t<=0,onClick:()=>{r(s)},className:"btnAdd",children:"Agregar"}),(0,ae.jsxs)("p",{className:"stock",children:["Cantidad de productos seleccionados ",s," "]})]})},fe=e=>{let{detail:t}=e;const[n,r]=(0,i.useState)(!1),{addItem:s}=(0,i.useContext)(oe);return(0,ae.jsx)("div",{children:(0,ae.jsxs)("div",{className:"containerDetail",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("img",{src:t.pictureUrl,alt:"detalles productos"}),(0,ae.jsx)("h3",{children:t.precio})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{children:(0,ae.jsx)("h2",{className:"titleDetail",children:t.title})}),(0,ae.jsx)("h4",{children:t.description}),n?(0,ae.jsx)(Z,{to:"/cart",children:(0,ae.jsx)(he,{data:"Finalizar compra"})}):(0,ae.jsx)(de,{stock:t.stock,inicial:1,onAdd:e=>{r(!0),s(t,e)}})]})]})})},pe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,u=t>>2,c=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new ge;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(e){return function(e){const t=pe(e);return me.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ve=function(e){try{return me.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const be=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,we=()=>{try{return be()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Wish-Him-Ecommerce",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&ve(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ee=e=>{const t=(e=>{var t,n;return null===(n=null===(t=we())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Se=()=>{var e;return null===(e=we())||void 0===e?void 0:e.config};class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Ce(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Te extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_e.prototype.create)}}class _e{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(xe,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Te(n,s,t)}}const xe=/\{\$([^}]+)}/g;function Ie(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Ne(n)&&Ne(s)){if(!Ie(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ne(e){return null!==e&&"object"===typeof e}function Ae(e){return e&&e._delegate?e._delegate:e}class De{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pe="[DEFAULT]";class Re{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ke;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pe})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Pe?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe;return this.component?this.component.multipleInstances?e:Pe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Re(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Oe=[];var Me;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Me||(Me={}));const Fe={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},je=Me.INFO,Ve={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Ue=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ve[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class ze{constructor(e){this.name=e,this._logLevel=je,this._logHandler=Ue,this._userLogHandler=null,Oe.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Fe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...t),this._logHandler(this,Me.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...t),this._logHandler(this,Me.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Me.INFO,...t),this._logHandler(this,Me.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Me.WARN,...t),this._logHandler(this,Me.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...t),this._logHandler(this,Me.ERROR,...t)}}let Be,qe;const He=new WeakMap,We=new WeakMap,Ke=new WeakMap,Qe=new WeakMap,Ge=new WeakMap;let $e={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return We.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ke.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Je(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ye(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qe||(qe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ze(this),n),Je(He.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Je(e.apply(Ze(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ze(this),t,...r);return Ke.set(s,t.sort?t.sort():[t]),Je(s)}}function Xe(e){return"function"===typeof e?Ye(e):(e instanceof IDBTransaction&&function(e){if(We.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});We.set(e,t)}(e),t=e,(Be||(Be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,$e):e);var t}function Je(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Je(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&He.set(t,e)}).catch(()=>{}),Ge.set(t,e),t}(e);if(Qe.has(e))return Qe.get(e);const t=Xe(e);return t!==e&&(Qe.set(e,t),Ge.set(t,e)),t}const Ze=e=>Ge.get(e);const et=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],nt=new Map;function rt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(nt.get(t))return nt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=tt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!et.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return nt.set(t,s),s}$e=(e=>se(se({},e),{},{get:(t,n,r)=>rt(t,n)||e.get(t,n,r),has:(t,n)=>!!rt(t,n)||e.has(t,n)}))($e);class it{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const st="@firebase/app",at="0.9.13",ot=new ze("@firebase/app"),lt="@firebase/app-compat",ut="@firebase/analytics-compat",ct="@firebase/analytics",ht="@firebase/app-check-compat",dt="@firebase/app-check",ft="@firebase/auth",pt="@firebase/auth-compat",mt="@firebase/database",gt="@firebase/database-compat",yt="@firebase/functions",vt="@firebase/functions-compat",bt="@firebase/installations",wt="@firebase/installations-compat",Et="@firebase/messaging",St="@firebase/messaging-compat",kt="@firebase/performance",Ct="@firebase/performance-compat",Tt="@firebase/remote-config",_t="@firebase/remote-config-compat",xt="@firebase/storage",It="@firebase/storage-compat",Nt="@firebase/firestore",At="@firebase/firestore-compat",Dt="firebase",Pt="[DEFAULT]",Rt={[st]:"fire-core",[lt]:"fire-core-compat",[ct]:"fire-analytics",[ut]:"fire-analytics-compat",[dt]:"fire-app-check",[ht]:"fire-app-check-compat",[ft]:"fire-auth",[pt]:"fire-auth-compat",[mt]:"fire-rtdb",[gt]:"fire-rtdb-compat",[yt]:"fire-fn",[vt]:"fire-fn-compat",[bt]:"fire-iid",[wt]:"fire-iid-compat",[Et]:"fire-fcm",[St]:"fire-fcm-compat",[kt]:"fire-perf",[Ct]:"fire-perf-compat",[Tt]:"fire-rc",[_t]:"fire-rc-compat",[xt]:"fire-gcs",[It]:"fire-gcs-compat",[Nt]:"fire-fst",[At]:"fire-fst-compat","fire-js":"fire-js",[Dt]:"fire-js-all"},Lt=new Map,Ot=new Map;function Mt(e,t){try{e.container.addComponent(t)}catch(n){ot.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ft(e){const t=e.name;if(Ot.has(t))return ot.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ot.set(t,e);for(const n of Lt.values())Mt(n,e);return!0}function jt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Vt=new _e("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ut{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new De("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vt.create("app-deleted",{appName:this._name})}}function zt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Pt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Vt.create("bad-app-name",{appName:String(i)});if(n||(n=Se()),!n)throw Vt.create("no-options");const s=Lt.get(i);if(s){if(Ie(n,s.options)&&Ie(r,s.config))return s;throw Vt.create("duplicate-app",{appName:i})}const a=new Le(i);for(const l of Ot.values())a.addComponent(l);const o=new Ut(n,r,a);return Lt.set(i,o),o}function Bt(e,t,n){var r;let i=null!==(r=Rt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ot.warn(e.join(" "))}Ft(new De("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const qt="firebase-heartbeat-store";let Ht=null;function Wt(){return Ht||(Ht=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Je(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Je(a.result),e.oldVersion,e.newVersion,Je(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(qt)}}).catch(e=>{throw Vt.create("idb-open",{originalErrorMessage:e.message})})),Ht}async function Kt(e,t){try{const n=(await Wt()).transaction(qt,"readwrite"),r=n.objectStore(qt);await r.put(t,Qt(e)),await n.done}catch(n){if(n instanceof Te)ot.warn(n.message);else{const e=Vt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ot.warn(e.message)}}}function Qt(e){return"".concat(e.name,"!").concat(e.options.appId)}class Gt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Yt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=$t();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=$t(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Xt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=ye(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function $t(){return(new Date).toISOString().substring(0,10)}class Yt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ce()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Wt();return await t.transaction(qt).objectStore(qt).get(Qt(e))}catch(t){if(t instanceof Te)ot.warn(t.message);else{const e=Vt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ot.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Kt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Kt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Xt(e){return ye(JSON.stringify({version:2,heartbeats:e})).length}var Jt;Jt="",Ft(new De("platform-logger",e=>new it(e),"PRIVATE")),Ft(new De("heartbeat",e=>new Gt(e),"PRIVATE")),Bt(st,at,Jt),Bt(st,at,"esm2017"),Bt("fire-js","");var Zt,en="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},tn={},nn=nn||{},rn=en||self;function sn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function an(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var on="closure_uid_"+(1e9*Math.random()>>>0),ln=0;function un(e,t,n){return e.call.apply(e.bind,arguments)}function cn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function hn(e,t,n){return(hn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?un:cn).apply(null,arguments)}function dn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function fn(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function pn(){this.s=this.s,this.o=this.o}pn.prototype.s=!1,pn.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,on)&&e[on]||(e[on]=++ln))},pn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function gn(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function yn(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(sn(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function vn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}vn.prototype.h=function(){this.defaultPrevented=!0};var bn=function(){if(!rn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{rn.addEventListener("test",()=>{},t),rn.removeEventListener("test",()=>{},t)}catch(n){}return e}();function wn(e){return/^[\s\xa0]*$/.test(e)}function En(){var e=rn.navigator;return e&&(e=e.userAgent)?e:""}function Sn(e){return-1!=En().indexOf(e)}function kn(e){return kn[" "](e),e}kn[" "]=function(){};var Cn,Tn,_n=Sn("Opera"),xn=Sn("Trident")||Sn("MSIE"),In=Sn("Edge"),Nn=In||xn,An=Sn("Gecko")&&!(-1!=En().toLowerCase().indexOf("webkit")&&!Sn("Edge"))&&!(Sn("Trident")||Sn("MSIE"))&&!Sn("Edge"),Dn=-1!=En().toLowerCase().indexOf("webkit")&&!Sn("Edge");function Pn(){var e=rn.document;return e?e.documentMode:void 0}e:{var Rn="",Ln=function(){var e=En();return An?/rv:([^\);]+)(\)|;)/.exec(e):In?/Edge\/([\d\.]+)/.exec(e):xn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Dn?/WebKit\/(\S+)/.exec(e):_n?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ln&&(Rn=Ln?Ln[1]:""),xn){var On=Pn();if(null!=On&&On>parseFloat(Rn)){Cn=String(On);break e}}Cn=Rn}if(rn.document&&xn){var Mn=Pn();Tn=Mn||(parseInt(Cn,10)||void 0)}else Tn=void 0;var Fn=Tn;function jn(e,t){if(vn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(An){e:{try{kn(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Vn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&jn.$.h.call(this)}}fn(jn,vn);var Vn={2:"touch",3:"pen",4:"mouse"};jn.prototype.h=function(){jn.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Un="closure_listenable_"+(1e6*Math.random()|0),zn=0;function Bn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++zn,this.fa=this.ia=!1}function qn(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Hn(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Wn(e){const t={};for(const n in e)t[n]=e[n];return t}const Kn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qn(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Kn.length;t++)n=Kn[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Gn(e){this.src=e,this.g={},this.h=0}function $n(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=mn(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(qn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Yn(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Gn.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Yn(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Bn(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Xn="closure_lm_"+(1e6*Math.random()|0),Jn={};function Zn(e,t,n,r,i){if(r&&r.once)return tr(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Zn(e,t[s],n,r,i);return null}return n=lr(n),e&&e[Un]?e.O(t,n,an(r)?!!r.capture:!!r,i):er(e,t,n,!1,r,i)}function er(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=an(i)?!!i.capture:!!i,o=ar(e);if(o||(e[Xn]=o=new Gn(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=sr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)bn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ir(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function tr(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)tr(e,t[s],n,r,i);return null}return n=lr(n),e&&e[Un]?e.P(t,n,an(r)?!!r.capture:!!r,i):er(e,t,n,!0,r,i)}function nr(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)nr(e,t[s],n,r,i);else r=an(r)?!!r.capture:!!r,n=lr(n),e&&e[Un]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Yn(s=e.g[t],n,r,i))&&(qn(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ar(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Yn(t,n,r,i)),(n=-1<e?t[e]:null)&&rr(n))}function rr(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Un])$n(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ir(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ar(t))?($n(n,e),0==n.h&&(n.src=null,t[Xn]=null)):qn(e)}}}function ir(e){return e in Jn?Jn[e]:Jn[e]="on"+e}function sr(e,t){if(e.fa)e=!0;else{t=new jn(t,this);var n=e.listener,r=e.la||e.src;e.ia&&rr(e),e=n.call(r,t)}return e}function ar(e){return(e=e[Xn])instanceof Gn?e:null}var or="__closure_events_fn_"+(1e9*Math.random()>>>0);function lr(e){return"function"===typeof e?e:(e[or]||(e[or]=function(t){return e.handleEvent(t)}),e[or])}function ur(){pn.call(this),this.i=new Gn(this),this.S=this,this.J=null}function cr(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new vn(t,e);else if(t instanceof vn)t.target=t.target||e;else{var i=t;Qn(t=new vn(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=hr(a,r,!0,t)&&i}if(i=hr(a=t.g=e,r,!0,t)&&i,i=hr(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=hr(a=t.g=n[s],r,!1,t)&&i}function hr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&$n(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}fn(ur,pn),ur.prototype[Un]=!0,ur.prototype.removeEventListener=function(e,t,n,r){nr(this,e,t,n,r)},ur.prototype.N=function(){if(ur.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qn(n[r]);delete t.g[e],t.h--}}this.J=null},ur.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ur.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var dr=rn.JSON.stringify;function fr(){var e=wr;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var pr=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new mr,e=>e.reset());class mr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gr(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function yr(e){rn.setTimeout(()=>{throw e},0)}let vr,br=!1,wr=new class{constructor(){this.h=this.g=null}add(e,t){const n=pr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Er=()=>{const e=rn.Promise.resolve(void 0);vr=()=>{e.then(Sr)}};var Sr=()=>{for(var e;e=fr();){try{e.h.call(e.g)}catch(n){yr(n)}var t=pr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}br=!1};function kr(e,t){ur.call(this),this.h=e||1,this.g=t||rn,this.j=hn(this.qb,this),this.l=Date.now()}function Cr(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Tr(e,t,n){if("function"===typeof e)n&&(e=hn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=hn(e.handleEvent,e)}return 2147483647<Number(t)?-1:rn.setTimeout(e,t||0)}function _r(e){e.g=Tr(()=>{e.g=null,e.i&&(e.i=!1,_r(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}fn(kr,ur),(Zt=kr.prototype).ga=!1,Zt.T=null,Zt.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cr(this,"tick"),this.ga&&(Cr(this),this.start()))}},Zt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Zt.N=function(){kr.$.N.call(this),Cr(this),delete this.g};class xr extends pn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_r(this)}N(){super.N(),this.g&&(rn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(e){pn.call(this),this.h=e,this.g={}}fn(Ir,pn);var Nr=[];function Ar(e,t,n,r){Array.isArray(n)||(n&&(Nr[0]=n.toString()),n=Nr);for(var i=0;i<n.length;i++){var s=Zn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Dr(e){Hn(e.g,function(e,t){this.g.hasOwnProperty(t)&&rr(e)},e),e.g={}}function Pr(){this.g=!0}function Rr(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return dr(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}Ir.prototype.N=function(){Ir.$.N.call(this),Dr(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pr.prototype.Ea=function(){this.g=!1},Pr.prototype.info=function(){};var Lr={},Or=null;function Mr(){return Or=Or||new ur}function Fr(e){vn.call(this,Lr.Ta,e)}function jr(e){const t=Mr();cr(t,new Fr(t))}function Vr(e,t){vn.call(this,Lr.STAT_EVENT,e),this.stat=t}function Ur(e){const t=Mr();cr(t,new Vr(t,e))}function zr(e,t){vn.call(this,Lr.Ua,e),this.size=t}function Br(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return rn.setTimeout(function(){e()},t)}Lr.Ta="serverreachability",fn(Fr,vn),Lr.STAT_EVENT="statevent",fn(Vr,vn),Lr.Ua="timingevent",fn(zr,vn);var qr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Hr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wr(){}function Kr(e){return e.h||(e.h=e.i())}function Qr(){}Wr.prototype.h=null;var Gr,$r={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yr(){vn.call(this,"d")}function Xr(){vn.call(this,"c")}function Jr(){}function Zr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ir(this),this.P=ti,e=Nn?125:void 0,this.V=new kr(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}fn(Yr,vn),fn(Xr,vn),fn(Jr,Wr),Jr.prototype.g=function(){return new XMLHttpRequest},Jr.prototype.i=function(){return{}},Gr=new Jr;var ti=45e3,ni={},ri={};function ii(e,t,n){e.L=1,e.v=ki(vi(t)),e.s=n,e.S=!0,si(e,null)}function si(e,t){e.G=Date.now(),ui(e),e.A=vi(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Mi(n.i,"t",r),e.C=0,n=e.l.J,e.h=new ei,e.g=Fs(e.l,n?t:null,!e.s),0<e.O&&(e.M=new xr(hn(e.Pa,e,e.g),e.O)),Ar(e.U,e.g,"readystatechange",e.nb),t=e.I?Wn(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),jr(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.W,e.s)}function ai(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function oi(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=li(e,n),r==ri){4==t&&(e.o=4,Ur(14),i=!1),Rr(e.j,e.m,null,"[Incomplete Response]");break}if(r==ni){e.o=4,Ur(15),Rr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Rr(e.j,e.m,r,null),pi(e,r)}ai(e)&&r!=ri&&r!=ni&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ur(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ns(t),t.M=!0,Ur(11))):(Rr(e.j,e.m,n,"[Invalid Chunked Response]"),fi(e),di(e))}function li(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ri:(n=Number(t.substring(n,r)),isNaN(n)?ni:(r+=1)+n>t.length?ri:(t=t.slice(r,r+n),e.C=r+n,t))}function ui(e){e.Y=Date.now()+e.P,ci(e,e.P)}function ci(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Br(hn(e.lb,e),t)}function hi(e){e.B&&(rn.clearTimeout(e.B),e.B=null)}function di(e){0==e.l.H||e.J||Ps(e.l,e)}function fi(e){hi(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Cr(e.V),Dr(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function pi(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||qi(n.i,e)))if(!e.K&&qi(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ds(n),Es(n)}Is(n),Ur(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Br(hn(n.ib,n),6e3));if(1>=Bi(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else Ls(n,11)}else if((e.K||n.g==e)&&Ds(n),!wn(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Hi(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Si(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Ms(r,r.J?r.pa:null,r.Y),a.K){Wi(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(hi(o),ui(o)),r.g=a}else xs(r);0<n.j.length&&ks(n)}else"stop"!=u[0]&&"close"!=u[0]||Ls(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Ls(n,7):ws(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}jr()}catch(u){}}function mi(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(sn(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(sn(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(sn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Zt=Zr.prototype).setTimeout=function(e){this.P=e},Zt.nb=function(e){e=e.target;const t=this.M;t&&3==ps(e)?t.l():this.Pa(e)},Zt.Pa=function(e){try{if(e==this.g)e:{const c=ps(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||Nn||this.g&&(this.h.h||this.g.ja()||ms(this.g)))){this.J||4!=c||7==t||jr(),hi(this);var n=this.g.da();this.ca=n;t:if(ai(this)){var r=ms(this.g);e="";var i=r.length,s=4==ps(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){fi(this),di(this);var a="";break t}this.h.i=new rn.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wn(o)){var u=o;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Ur(12),fi(this),di(this);break e}Rr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pi(this,n)}this.S?(oi(this,c,a),Nn&&this.i&&3==c&&(Ar(this.U,this.V,"tick",this.mb),this.V.start())):(Rr(this.j,this.m,a,null),pi(this,a)),4==c&&fi(this),this.i&&!this.J&&(4==c?Ps(this.l,this):(this.i=!1,ui(this)))}else(function(e){const t={};e=(e.g&&2<=ps(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(wn(e[r]))continue;var n=gr(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Ur(12)):(this.o=0,Ur(13)),fi(this),di(this)}}}catch(c){}},Zt.mb=function(){if(this.g){var e=ps(this.g),t=this.g.ja();this.C<t.length&&(hi(this),oi(this,e,t),this.i&&4!=e&&ui(this))}},Zt.cancel=function(){this.J=!0,fi(this)},Zt.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(jr(),Ur(17)),fi(this),this.o=2,di(this)):ci(this,this.Y-e)};var gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yi(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof yi){this.h=e.h,bi(this,e.j),this.s=e.s,this.g=e.g,wi(this,e.m),this.l=e.l;var t=e.i,n=new Pi;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ei(this,n),this.o=e.o}else e&&(t=String(e).match(gi))?(this.h=!1,bi(this,t[1]||"",!0),this.s=Ci(t[2]||""),this.g=Ci(t[3]||"",!0),wi(this,t[4]),this.l=Ci(t[5]||"",!0),Ei(this,t[6]||"",!0),this.o=Ci(t[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}function vi(e){return new yi(e)}function bi(e,t,n){e.j=n?Ci(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ei(e,t,n){t instanceof Pi?(e.i=t,function(e,t){t&&!e.j&&(Ri(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Li(this,t),Mi(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Ti(t,Ai)),e.i=new Pi(t,e.h))}function Si(e,t,n){e.i.set(t,n)}function ki(e){return Si(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ci(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ti(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,_i),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function _i(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}yi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ti(t,xi,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ti(t,xi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ti(n,"/"==n.charAt(0)?Ni:Ii,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ti(n,Di)),e.join("")};var xi=/[#\/\?@]/g,Ii=/[#\?:]/g,Ni=/[#\?]/g,Ai=/[#\?@]/g,Di=/#/g;function Pi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ri(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Li(e,t){Ri(e),t=Fi(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Oi(e,t){return Ri(e),t=Fi(e,t),e.g.has(t)}function Mi(e,t,n){Li(e,t),0<n.length&&(e.i=null,e.g.set(Fi(e,t),gn(n)),e.h+=n.length)}function Fi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Zt=Pi.prototype).add=function(e,t){Ri(this),this.i=null,e=Fi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Zt.forEach=function(e,t){Ri(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},Zt.ta=function(){Ri(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Zt.Z=function(e){Ri(this);let t=[];if("string"===typeof e)Oi(this,e)&&(t=t.concat(this.g.get(Fi(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Zt.set=function(e,t){return Ri(this),this.i=null,Oi(this,e=Fi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Zt.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Zt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var ji=class{constructor(e,t){this.g=e,this.map=t}};function Vi(e){this.l=e||Ui,rn.PerformanceNavigationTiming?e=0<(e=rn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(rn.g&&rn.g.Ka&&rn.g.Ka()&&rn.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ui=10;function zi(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Bi(e){return e.h?1:e.g?e.g.size:0}function qi(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Hi(e,t){e.g?e.g.add(t):e.h=t}function Wi(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ki(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return gn(e.i)}Vi.prototype.cancel=function(){if(this.i=Ki(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Qi,Gi=class{stringify(e){return rn.JSON.stringify(e,void 0)}parse(e){return rn.JSON.parse(e,void 0)}};function $i(){this.g=new Gi}function Yi(e,t,n){const r=n||"";try{mi(e,function(e,n){let i=e;an(e)&&(i=dr(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Ji(e){this.l=e.fc||null,this.j=e.ob||!1}function Zi(e,t){ur.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=es,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fn(Ji,Wr),Ji.prototype.g=function(){return new Zi(this.l,this.j)},Ji.prototype.i=(Qi={},function(){return Qi}),fn(Zi,ur);var es=0;function ts(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ns(e){e.readyState=4,e.l=null,e.j=null,e.A=null,rs(e)}function rs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Zt=Zi.prototype).open=function(e,t){if(this.readyState!=es)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,rs(this)},Zt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||rn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Zt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ns(this)),this.readyState=es},Zt.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,rs(this)),this.g&&(this.readyState=3,rs(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof rn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ts(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Zt.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ns(this):rs(this),3==this.readyState&&ts(this)}},Zt.Za=function(e){this.g&&(this.response=this.responseText=e,ns(this))},Zt.Ya=function(e){this.g&&(this.response=e,ns(this))},Zt.ka=function(){this.g&&ns(this)},Zt.setRequestHeader=function(e,t){this.v.append(e,t)},Zt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Zt.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var is=rn.JSON.parse;function ss(e){ur.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=as,this.L=this.M=!1}fn(ss,ur);var as="",os=/^https?$/i,ls=["POST","PUT"];function us(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cs(e),ds(e)}function cs(e){e.F||(e.F=!0,cr(e,"complete"),cr(e,"error"))}function hs(e){if(e.h&&"undefined"!=typeof nn&&(!e.C[1]||4!=ps(e)||2!=e.da()))if(e.v&&4==ps(e))Tr(e.La,0,e);else if(cr(e,"readystatechange"),4==ps(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(gi)[1]||null;!i&&rn.self&&rn.self.location&&(i=rn.self.location.protocol.slice(0,-1)),r=!os.test(i?i.toLowerCase():"")}n=r}if(n)cr(e,"complete"),cr(e,"success");else{e.m=6;try{var s=2<ps(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",cs(e)}}finally{ds(e)}}}function ds(e,t){if(e.g){fs(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||cr(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function fs(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(rn.clearTimeout(e.A),e.A=null)}function ps(e){return e.g?e.g.readyState:0}function ms(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case as:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(wa){return null}}function gs(e){let t="";return Hn(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function ys(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=gs(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Si(e,t,n))}function vs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bs(e){this.Ga=0,this.j=[],this.l=new Pr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vs("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vs("baseRetryDelayMs",5e3,e),this.hb=vs("retryDelaySeedMs",1e4,e),this.eb=vs("forwardChannelMaxRetries",2,e),this.xa=vs("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Vi(e&&e.concurrentRequestLimit),this.Ja=new $i,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ws(e){if(Ss(e),3==e.H){var t=e.W++,n=vi(e.I);if(Si(n,"SID",e.K),Si(n,"RID",t),Si(n,"TYPE","terminate"),Ts(e,n),(t=new Zr(e,e.l,t)).L=2,t.v=ki(vi(n)),n=!1,rn.navigator&&rn.navigator.sendBeacon)try{n=rn.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&rn.Image&&((new Image).src=t.v,n=!0),n||(t.g=Fs(t.l,null),t.g.ha(t.v)),t.G=Date.now(),ui(t)}Os(e)}function Es(e){e.g&&(Ns(e),e.g.cancel(),e.g=null)}function Ss(e){Es(e),e.u&&(rn.clearTimeout(e.u),e.u=null),Ds(e),e.i.cancel(),e.m&&("number"===typeof e.m&&rn.clearTimeout(e.m),e.m=null)}function ks(e){if(!zi(e.i)&&!e.m){e.m=!0;var t=e.Na;vr||Er(),br||(vr(),br=!0),wr.add(t,e),e.C=0}}function Cs(e,t){var n;n=t?t.m:e.W++;const r=vi(e.I);Si(r,"SID",e.K),Si(r,"RID",n),Si(r,"AID",e.V),Ts(e,r),e.o&&e.s&&ys(r,e.o,e.s),n=new Zr(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=_s(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Hi(e.i,n),ii(n,r,t)}function Ts(e,t){e.na&&Hn(e.na,function(e,n){Si(t,n,e)}),e.h&&mi({},function(e,n){Si(t,n,e)})}function _s(e,t,n){n=Math.min(e.j.length,n);var r=e.h?hn(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Yi(o,e,"req"+n+"_")}catch(Da){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function xs(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;vr||Er(),br||(vr(),br=!0),wr.add(t,e),e.A=0}}function Is(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Br(hn(e.Ma,e),Rs(e,e.A)),e.A++,!0)}function Ns(e){null!=e.B&&(rn.clearTimeout(e.B),e.B=null)}function As(e){e.g=new Zr(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=vi(e.wa);Si(t,"RID","rpc"),Si(t,"SID",e.K),Si(t,"AID",e.V),Si(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Si(t,"TO",e.qa),Si(t,"TYPE","xmlhttp"),Ts(e,t),e.o&&e.s&&ys(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ki(vi(t)),n.s=null,n.S=!0,si(n,e)}function Ds(e){null!=e.v&&(rn.clearTimeout(e.v),e.v=null)}function Ps(e,t){var n=null;if(e.g==t){Ds(e),Ns(e),e.g=null;var r=2}else{if(!qi(e.i,t))return;n=t.F,Wi(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;cr(r=Mr(),new zr(r,n)),ks(e)}else xs(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Bi(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Br(hn(e.Na,e,t),Rs(e,e.C)),e.C++,!0))}(e,t)||2==r&&Is(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ls(e,5);break;case 4:Ls(e,10);break;case 3:Ls(e,6);break;default:Ls(e,2)}}function Rs(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ls(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=hn(e.pb,e);n||(n=new yi("//www.google.com/images/cleardot.gif"),rn.location&&"http"==rn.location.protocol||bi(n,"https"),ki(n)),function(e,t){const n=new Pr;if(rn.Image){const r=new Image;r.onload=dn(Xi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=dn(Xi,n,r,"TestLoadImage: error",!1,t),r.onabort=dn(Xi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=dn(Xi,n,r,"TestLoadImage: timeout",!1,t),rn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ur(2);e.H=0,e.h&&e.h.za(t),Os(e),Ss(e)}function Os(e){if(e.H=0,e.ma=[],e.h){const t=Ki(e.i);0==t.length&&0==e.j.length||(yn(e.ma,t),yn(e.ma,e.j),e.i.i.length=0,gn(e.j),e.j.length=0),e.h.ya()}}function Ms(e,t,n){var r=n instanceof yi?vi(n):new yi(n);if(""!=r.g)t&&(r.g=t+"."+r.g),wi(r,r.m);else{var i=rn.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new yi(null);r&&bi(s,r),t&&(s.g=t),i&&wi(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Si(r,n,t),Si(r,"VER",e.ra),Ts(e,r),r}function Fs(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new ss(new Ji({ob:!0})):new ss(e.va)).Oa(e.J),t}function js(){}function Vs(){if(xn&&!(10<=Number(Fn)))throw Error("Environmental error: no available transport.")}function Us(e,t){ur.call(this),this.g=new bs(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!wn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!wn(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new qs(this)}function zs(e){Yr.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Bs(){Xr.call(this),this.status=1}function qs(e){this.g=e}function Hs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ws(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Ks(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Zt=ss.prototype).Oa=function(e){this.M=e},Zt.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Gr.g(),this.C=this.u?Kr(this.u):Kr(Gr),this.g.onreadystatechange=hn(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void us(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=rn.FormData&&e instanceof rn.FormData,!(0<=mn(ls,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fs(this),0<this.B&&((this.L=function(e){return xn&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hn(this.ua,this)):this.A=Tr(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){us(this,s)}},Zt.ua=function(){"undefined"!=typeof nn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cr(this,"timeout"),this.abort(8))},Zt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,cr(this,"complete"),cr(this,"abort"),ds(this))},Zt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ds(this,!0)),ss.$.N.call(this)},Zt.La=function(){this.s||(this.G||this.v||this.l?hs(this):this.kb())},Zt.kb=function(){hs(this)},Zt.isActive=function(){return!!this.g},Zt.da=function(){try{return 2<ps(this)?this.g.status:-1}catch(Qi){return-1}},Zt.ja=function(){try{return this.g?this.g.responseText:""}catch(Qi){return""}},Zt.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),is(t)}},Zt.Ia=function(){return this.m},Zt.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Zt=bs.prototype).ra=8,Zt.H=1,Zt.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Zr(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Wn(s),Qn(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=_s(this,i,t),Si(n=vi(this.I),"RID",e),Si(n,"CVER",22),this.F&&Si(n,"X-HTTP-Session-Id",this.F),Ts(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(gs(s)))+"&"+t:this.o&&ys(n,this.o,s)),Hi(this.i,i),this.bb&&Si(n,"TYPE","init"),this.P?(Si(n,"$req",t),Si(n,"SID","null"),i.aa=!0,ii(i,n,null)):ii(i,n,t),this.H=2}}else 3==this.H&&(e?Cs(this,e):0==this.j.length||zi(this.i)||Cs(this))},Zt.Ma=function(){if(this.u=null,As(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Br(hn(this.jb,this),e)}},Zt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ur(10),Es(this),As(this))},Zt.ib=function(){null!=this.v&&(this.v=null,Es(this),Is(this),Ur(19))},Zt.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ur(2)):(this.l.info("Failed to ping google.com"),Ur(1))},Zt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Zt=js.prototype).Ba=function(){},Zt.Aa=function(){},Zt.za=function(){},Zt.ya=function(){},Zt.isActive=function(){return!0},Zt.Va=function(){},Vs.prototype.g=function(e,t){return new Us(e,t)},fn(Us,ur),Us.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ur(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ms(e,null,e.Y),ks(e)},Us.prototype.close=function(){ws(this.g)},Us.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=dr(e),e=n);t.j.push(new ji(t.fb++,e)),3==t.H&&ks(t)},Us.prototype.N=function(){this.g.h=null,delete this.j,ws(this.g),delete this.g,Us.$.N.call(this)},fn(zs,Yr),fn(Bs,Xr),fn(qs,js),qs.prototype.Ba=function(){cr(this.g,"a")},qs.prototype.Aa=function(e){cr(this.g,new zs(e))},qs.prototype.za=function(e){cr(this.g,new Bs)},qs.prototype.ya=function(){cr(this.g,"b")},fn(Hs,function(){this.blockSize=-1}),Hs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Hs.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Ws(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Ws(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Ws(this,r),i=0;break}}this.h=i,this.i+=t},Hs.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Qs={};function Gs(e){return-128<=e&&128>e?function(e,t){var n=Qs;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new Ks([0|e],0>e?-1:0)}):new Ks([0|e],0>e?-1:0)}function $s(e){if(isNaN(e)||!isFinite(e))return Xs;if(0>e)return na($s(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ys;return new Ks(t,0)}var Ys=4294967296,Xs=Gs(0),Js=Gs(1),Zs=Gs(16777216);function ea(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ta(e){return-1==e.h}function na(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ks(n,~e.h).add(Js)}function ra(e,t){return e.add(na(t))}function ia(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function sa(e,t){this.g=e,this.h=t}function aa(e,t){if(ea(t))throw Error("division by zero");if(ea(e))return new sa(Xs,Xs);if(ta(e))return t=aa(na(e),t),new sa(na(t.g),na(t.h));if(ta(t))return t=aa(e,na(t)),new sa(na(t.g),t.h);if(30<e.g.length){if(ta(e)||ta(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Js,r=t;0>=r.X(e);)n=oa(n),r=oa(r);var i=la(n,1),s=la(r,1);for(r=la(r,2),n=la(n,2);!ea(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=la(r,1),n=la(n,1)}return t=ra(e,i.R(t)),new sa(i,t)}for(i=Xs;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=$s(n)).R(t);ta(a)||0<a.X(e);)a=(s=$s(n-=r)).R(t);ea(s)&&(s=Js),i=i.add(s),e=ra(e,a)}return new sa(i,e)}function oa(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ks(n,e.h)}function la(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Ks(i,e.h)}(Zt=Ks.prototype).ea=function(){if(ta(this))return-na(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ys+r)*t,t*=Ys}return e},Zt.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(ea(this))return"0";if(ta(this))return"-"+na(this).toString(e);for(var t=$s(Math.pow(e,6)),n=this,r="";;){var i=aa(n,t).g,s=((0<(n=ra(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(ea(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Zt.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Zt.X=function(e){return ta(e=ra(this,e))?-1:ea(e)?0:1},Zt.abs=function(){return ta(this)?na(this):this},Zt.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new Ks(n,-2147483648&n[n.length-1]?-1:0)},Zt.R=function(e){if(ea(this)||ea(e))return Xs;if(ta(this))return ta(e)?na(this).R(na(e)):na(na(this).R(e));if(ta(e))return na(this.R(na(e)));if(0>this.X(Zs)&&0>e.X(Zs))return $s(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,ia(n,2*r+2*i),n[2*r+2*i+1]+=s*l,ia(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,ia(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,ia(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ks(n,0)},Zt.gb=function(e){return aa(this,e).h},Zt.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ks(n,this.h&e.h)},Zt.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ks(n,this.h|e.h)},Zt.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ks(n,this.h^e.h)},Vs.prototype.createWebChannel=Vs.prototype.g,Us.prototype.send=Us.prototype.u,Us.prototype.open=Us.prototype.m,Us.prototype.close=Us.prototype.close,qr.NO_ERROR=0,qr.TIMEOUT=8,qr.HTTP_ERROR=6,Hr.COMPLETE="complete",Qr.EventType=$r,$r.OPEN="a",$r.CLOSE="b",$r.ERROR="c",$r.MESSAGE="d",ur.prototype.listen=ur.prototype.O,ss.prototype.listenOnce=ss.prototype.P,ss.prototype.getLastError=ss.prototype.Sa,ss.prototype.getLastErrorCode=ss.prototype.Ia,ss.prototype.getStatus=ss.prototype.da,ss.prototype.getResponseJson=ss.prototype.Wa,ss.prototype.getResponseText=ss.prototype.ja,ss.prototype.send=ss.prototype.ha,ss.prototype.setWithCredentials=ss.prototype.Oa,Hs.prototype.digest=Hs.prototype.l,Hs.prototype.reset=Hs.prototype.reset,Hs.prototype.update=Hs.prototype.j,Ks.prototype.add=Ks.prototype.add,Ks.prototype.multiply=Ks.prototype.R,Ks.prototype.modulo=Ks.prototype.gb,Ks.prototype.compare=Ks.prototype.X,Ks.prototype.toNumber=Ks.prototype.ea,Ks.prototype.toString=Ks.prototype.toString,Ks.prototype.getBits=Ks.prototype.D,Ks.fromNumber=$s,Ks.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return na(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=$s(Math.pow(n,8)),i=Xs,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=$s(Math.pow(n,a)),i=i.R(a).add($s(o))):i=(i=i.R(r)).add($s(o))}return i};var ua=tn.createWebChannelTransport=function(){return new Vs},ca=tn.getStatEventTarget=function(){return Mr()},ha=tn.ErrorCode=qr,da=tn.EventType=Hr,fa=tn.Event=Lr,pa=tn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ma=tn.FetchXmlHttpFactory=Ji,ga=tn.WebChannel=Qr,ya=tn.XhrIo=ss,va=tn.Md5=Hs,ba=tn.Integer=Ks;const wa="@firebase/firestore";class Ea{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ea.UNAUTHENTICATED=new Ea(null),Ea.GOOGLE_CREDENTIALS=new Ea("google-credentials-uid"),Ea.FIRST_PARTY=new Ea("first-party-uid"),Ea.MOCK_USER=new Ea("mock-user");let Sa="9.23.0";const ka=new ze("@firebase/firestore");function Ca(){return ka.logLevel}function Ta(e){if(ka.logLevel<=Me.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ia);ka.debug("Firestore (".concat(Sa,"): ").concat(e),...i)}}function _a(e){if(ka.logLevel<=Me.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ia);ka.error("Firestore (".concat(Sa,"): ").concat(e),...i)}}function xa(e){if(ka.logLevel<=Me.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ia);ka.warn("Firestore (".concat(Sa,"): ").concat(e),...i)}}function Ia(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Na(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Sa,") INTERNAL ASSERTION FAILED: ")+e;throw _a(t),new Error(t)}function Aa(e,t){e||Na()}function Da(e,t){return e}const Pa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ra extends Te{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class La{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Oa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ma{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ea.UNAUTHENTICATED))}shutdown(){}}class Fa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ja{constructor(e){this.t=e,this.currentUser=Ea.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new La;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new La,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Ta("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Ta("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new La)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Ta("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Aa("string"==typeof t.accessToken),new Oa(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Aa(null===e||"string"==typeof e),new Ea(e)}}class Va{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Ea.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ua{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Va(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ea.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class za{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ba{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Ta("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Ta("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Ta("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Ta("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Aa("string"==typeof e.token),this.T=e.token,new za(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qa(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ha{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=qa(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Wa(e,t){return e<t?-1:e>t?1:0}function Ka(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Qa{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ra(Pa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ra(Pa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ra(Pa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ra(Pa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qa.fromMillis(Date.now())}static fromDate(e){return Qa.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Qa(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wa(this.nanoseconds,e.nanoseconds):Wa(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ga{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ga(e)}static min(){return new Ga(new Qa(0,0))}static max(){return new Ga(new Qa(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $a{constructor(e,t,n){void 0===t?t=0:t>e.length&&Na(),void 0===n?n=e.length-t:n>e.length-t&&Na(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===$a.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $a?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ya extends $a{construct(e,t,n){return new Ya(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ra(Pa.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Ya(e)}static emptyPath(){return new Ya([])}}const Xa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ja extends $a{construct(e,t,n){return new Ja(e,t,n)}static isValidIdentifier(e){return Xa.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ja.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ja(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ra(Pa.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ra(Pa.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ra(Pa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Ra(Pa.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ja(t)}static emptyPath(){return new Ja([])}}class Za{constructor(e){this.path=e}static fromPath(e){return new Za(Ya.fromString(e))}static fromName(e){return new Za(Ya.fromString(e).popFirst(5))}static empty(){return new Za(Ya.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ya.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ya.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Za(new Ya(e.slice()))}}class eo{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}eo.UNKNOWN_ID=-1;function to(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ga.fromTimestamp(1e9===r?new Qa(n+1,0):new Qa(n,r));return new ro(i,Za.empty(),t)}function no(e){return new ro(e.readTime,e.key,-1)}class ro{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ro(Ga.min(),Za.empty(),-1)}static max(){return new ro(Ga.max(),Za.empty(),-1)}}function io(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Za.comparator(e.documentKey,t.documentKey),0!==n?n:Wa(e.largestBatchId,t.largestBatchId))}const so="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ao{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function oo(e){if(e.code!==Pa.FAILED_PRECONDITION||e.message!==so)throw e;Ta("LocalStore","Unexpectedly lost primary lease")}class lo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Na(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new lo((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof lo?t:lo.resolve(t)}catch(e){return lo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):lo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):lo.reject(t)}static resolve(e){return new lo((t,n)=>{t(e)})}static reject(e){return new lo((t,n)=>{n(e)})}static waitFor(e){return new lo((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=lo.resolve(!1);for(const n of e)t=t.next(e=>e?lo.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new lo((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new lo((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function uo(e){return"IndexedDbTransactionError"===e.name}class co{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function ho(e){return null==e}function fo(e){return 0===e&&1/e==-1/0}function po(e){return"number"==typeof e&&Number.isInteger(e)&&!fo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}co.ct=-1;const mo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],go=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yo=go;function vo(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Eo{constructor(e,t){this.comparator=e,this.root=t||ko.EMPTY}insert(e,t){return new Eo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ko.BLACK,null,null))}remove(e){return new Eo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ko.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new So(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new So(this.root,e,this.comparator,!1)}getReverseIterator(){return new So(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new So(this.root,e,this.comparator,!0)}}class So{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ko{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ko.RED,this.left=null!=r?r:ko.EMPTY,this.right=null!=i?i:ko.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ko(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ko.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ko.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ko.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ko.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Na();if(this.right.isRed())throw Na();const e=this.left.check();if(e!==this.right.check())throw Na();return e+(this.isRed()?0:1)}}ko.EMPTY=null,ko.RED=!0,ko.BLACK=!1,ko.EMPTY=new class{constructor(){this.size=0}get key(){throw Na()}get value(){throw Na()}get color(){throw Na()}get left(){throw Na()}get right(){throw Na()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ko(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Co{constructor(e){this.comparator=e,this.data=new Eo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new To(this.data.getIterator())}getIteratorFrom(e){return new To(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Co))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Co(this.comparator);return t.data=e,t}}class To{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _o{constructor(e){this.fields=e,e.sort(Ja.comparator)}static empty(){return new _o([])}unionWith(e){let t=new Co(Ja.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new _o(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class xo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Io{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new xo("Invalid base64 string: "+e):e}}(e);return new Io(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Io(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wa(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Io.EMPTY_BYTE_STRING=new Io("");const No=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(e){if(Aa(!!e),"string"==typeof e){let t=0;const n=No.exec(e);if(Aa(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Do(e.seconds),nanos:Do(e.nanos)}}function Do(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Po(e){return"string"==typeof e?Io.fromBase64String(e):Io.fromUint8Array(e)}function Ro(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lo(e){const t=e.mapValue.fields.__previous_value__;return Ro(t)?Lo(t):t}function Oo(e){const t=Ao(e.mapValue.fields.__local_write_time__.timestampValue);return new Qa(t.seconds,t.nanos)}class Mo{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Fo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fo&&e.projectId===this.projectId&&e.database===this.database}}const jo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ro(e)?4:Zo(e)?9007199254740991:10:Na()}function Uo(e,t){if(e===t)return!0;const n=Vo(e);if(n!==Vo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Oo(e).isEqual(Oo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ao(e.timestampValue),r=Ao(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Po(e.bytesValue).isEqual(Po(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Do(e.geoPointValue.latitude)===Do(t.geoPointValue.latitude)&&Do(e.geoPointValue.longitude)===Do(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Do(e.integerValue)===Do(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Do(e.doubleValue),r=Do(t.doubleValue);return n===r?fo(n)===fo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ka(e.arrayValue.values||[],t.arrayValue.values||[],Uo);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vo(n)!==vo(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Uo(n[i],r[i])))return!1;return!0}(e,t);default:return Na()}}function zo(e,t){return void 0!==(e.values||[]).find(e=>Uo(e,t))}function Bo(e,t){if(e===t)return 0;const n=Vo(e),r=Vo(t);if(n!==r)return Wa(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Wa(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Do(e.integerValue||e.doubleValue),r=Do(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qo(e.timestampValue,t.timestampValue);case 4:return qo(Oo(e),Oo(t));case 5:return Wa(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Po(e),r=Po(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Wa(n[i],r[i]);if(0!==e)return e}return Wa(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Wa(Do(e.latitude),Do(t.latitude));return 0!==n?n:Wa(Do(e.longitude),Do(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Bo(n[i],r[i]);if(e)return e}return Wa(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===jo.mapValue&&t===jo.mapValue)return 0;if(e===jo.mapValue)return 1;if(t===jo.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Wa(r[a],s[a]);if(0!==e)return e;const t=Bo(n[r[a]],i[s[a]]);if(0!==t)return t}return Wa(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Na()}}function qo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Wa(e,t);const n=Ao(e),r=Ao(t),i=Wa(n.seconds,r.seconds);return 0!==i?i:Wa(n.nanos,r.nanos)}function Ho(e){return Wo(e)}function Wo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ao(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Po(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Za.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Wo(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Wo(e.fields[i]));return n+"}"}(e.mapValue):Na();var t,n}function Ko(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Qo(e){return!!e&&"integerValue"in e}function Go(e){return!!e&&"arrayValue"in e}function $o(e){return!!e&&"nullValue"in e}function Yo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xo(e){return!!e&&"mapValue"in e}function Jo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return bo(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Jo(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Zo(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class el{constructor(e){this.value=e}static empty(){return new el({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Xo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(t)}setAll(e){let t=Ja.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Jo(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Xo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Uo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Xo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){bo(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new el(Jo(this.value))}}function tl(e){const t=[];return bo(e.fields,(e,n)=>{const r=new Ja([e]);if(Xo(n)){const e=tl(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new _o(t)}class nl{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new nl(e,0,Ga.min(),Ga.min(),Ga.min(),el.empty(),0)}static newFoundDocument(e,t,n,r){return new nl(e,1,t,Ga.min(),n,r,0)}static newNoDocument(e,t){return new nl(e,2,t,Ga.min(),Ga.min(),el.empty(),0)}static newUnknownDocument(e,t){return new nl(e,3,t,Ga.min(),Ga.min(),el.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ga.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=el.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=el.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ga.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class rl{constructor(e,t){this.position=e,this.inclusive=t}}function il(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Za.comparator(Za.fromName(a.referenceValue),n.key):Bo(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function sl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Uo(e.position[n],t.position[n]))return!1;return!0}class al{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ol(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ll{}class ul extends ll{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new yl(e,t,n):"array-contains"===t?new El(e,n):"in"===t?new Sl(e,n):"not-in"===t?new kl(e,n):"array-contains-any"===t?new Cl(e,n):new ul(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new vl(e,n):new bl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Bo(t,this.value)):null!==t&&Vo(this.value)===Vo(t)&&this.matchesComparison(Bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Na()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class cl extends ll{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new cl(e,t)}matches(e){return hl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function hl(e){return"and"===e.op}function dl(e){return fl(e)&&hl(e)}function fl(e){for(const t of e.filters)if(t instanceof cl)return!1;return!0}function pl(e){if(e instanceof ul)return e.field.canonicalString()+e.op.toString()+Ho(e.value);if(dl(e))return e.filters.map(e=>pl(e)).join(",");{const t=e.filters.map(e=>pl(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function ml(e,t){return e instanceof ul?function(e,t){return t instanceof ul&&e.op===t.op&&e.field.isEqual(t.field)&&Uo(e.value,t.value)}(e,t):e instanceof cl?function(e,t){return t instanceof cl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&ml(n,t.filters[r]),!0)}(e,t):void Na()}function gl(e){return e instanceof ul?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ho(e.value))}(e):e instanceof cl?function(e){return e.op.toString()+" {"+e.getFilters().map(gl).join(" ,")+"}"}(e):"Filter"}class yl extends ul{constructor(e,t,n){super(e,t,n),this.key=Za.fromName(n.referenceValue)}matches(e){const t=Za.comparator(e.key,this.key);return this.matchesComparison(t)}}class vl extends ul{constructor(e,t){super(e,"in",t),this.keys=wl("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bl extends ul{constructor(e,t){super(e,"not-in",t),this.keys=wl("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Za.fromName(e.referenceValue))}class El extends ul{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Go(t)&&zo(t.arrayValue,this.value)}}class Sl extends ul{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zo(this.value.arrayValue,t)}}class kl extends ul{constructor(e,t){super(e,"not-in",t)}matches(e){if(zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zo(this.value.arrayValue,t)}}class Cl extends ul{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Go(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>zo(this.value.arrayValue,e))}}class Tl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function _l(e){return new Tl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function xl(e){const t=Da(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>pl(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),ho(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ho(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ho(e)).join(",")),t.dt=e}return t.dt}function Il(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ol(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ml(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sl(e.startAt,t.startAt)&&sl(e.endAt,t.endAt)}function Nl(e){return Za.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Al{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function Dl(e,t,n,r,i,s,a,o){return new Al(e,t,n,r,i,s,a,o)}function Pl(e){return new Al(e)}function Rl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ll(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ol(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Ml(e){return null!==e.collectionGroup}function Fl(e){const t=Da(e);if(null===t.wt){t.wt=[];const e=Ol(t),n=Ll(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new al(e)),t.wt.push(new al(Ja.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new al(Ja.keyField(),e))}}}return t.wt}function jl(e){const t=Da(e);if(!t._t)if("F"===t.limitType)t._t=_l(t.path,t.collectionGroup,Fl(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Fl(t)){const t="desc"===i.dir?"asc":"desc";e.push(new al(i.field,t))}const n=t.endAt?new rl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rl(t.startAt.position,t.startAt.inclusive):null;t._t=_l(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Vl(e,t){t.getFirstInequalityField(),Ol(e);const n=e.filters.concat([t]);return new Al(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ul(e,t,n){return new Al(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zl(e,t){return Il(jl(e),jl(t))&&e.limitType===t.limitType}function Bl(e){return"".concat(xl(jl(e)),"|lt:").concat(e.limitType)}function ql(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>gl(e)).join(", "),"]")),ho(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ho(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ho(e)).join(",")),"Target(".concat(t,")")}(jl(e)),"; limitType=").concat(e.limitType,")")}function Hl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Za.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Fl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=il(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Fl(e),t))&&!(e.endAt&&!function(e,t,n){const r=il(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Fl(e),t))}(e,t)}function Wl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Kl(e){return(t,n)=>{let r=!1;for(const i of Fl(e)){const e=Ql(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ql(e,t,n){const r=e.field.isKeyField()?Za.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bo(r,i):Na()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Na()}}class Gl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){bo(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return wo(this.inner)}size(){return this.innerSize}}const $l=new Eo(Za.comparator);function Yl(){return $l}const Xl=new Eo(Za.comparator);function Jl(){let e=Xl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Zl(e){let t=Xl;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function eu(){return nu()}function tu(){return nu()}function nu(){return new Gl(e=>e.toString(),(e,t)=>e.isEqual(t))}const ru=new Eo(Za.comparator),iu=new Co(Za.comparator);function su(){let e=iu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const au=new Co(Wa);function ou(){return au}function lu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fo(t)?"-0":t}}function uu(e){return{integerValue:""+e}}function cu(e,t){return po(t)?uu(t):lu(e,t)}class hu{constructor(){this._=void 0}}function du(e,t,n){return e instanceof mu?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ro(t)&&(t=Lo(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof gu?yu(e,t):e instanceof vu?bu(e,t):function(e,t){const n=pu(e,t),r=Eu(n)+Eu(e.gt);return Qo(n)&&Qo(e.gt)?uu(r):lu(e.serializer,r)}(e,t)}function fu(e,t,n){return e instanceof gu?yu(e,t):e instanceof vu?bu(e,t):n}function pu(e,t){return e instanceof wu?Qo(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class mu extends hu{}class gu extends hu{constructor(e){super(),this.elements=e}}function yu(e,t){const n=Su(t);for(const r of e.elements)n.some(e=>Uo(e,r))||n.push(r);return{arrayValue:{values:n}}}class vu extends hu{constructor(e){super(),this.elements=e}}function bu(e,t){let n=Su(t);for(const r of e.elements)n=n.filter(e=>!Uo(e,r));return{arrayValue:{values:n}}}class wu extends hu{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Eu(e){return Do(e.integerValue||e.doubleValue)}function Su(e){return Go(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ku{constructor(e,t){this.field=e,this.transform=t}}class Cu{constructor(e,t){this.version=e,this.transformResults=t}}class Tu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tu}static exists(e){return new Tu(void 0,e)}static updateTime(e){return new Tu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _u(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xu{}function Iu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ju(e.key,Tu.none()):new Ru(e.key,e.data,Tu.none());{const n=e.data,r=el.empty();let i=new Co(Ja.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Lu(e.key,r,new _o(i.toArray()),Tu.none())}}function Nu(e,t,n){e instanceof Ru?function(e,t,n){const r=e.value.clone(),i=Mu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lu?function(e,t,n){if(!_u(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Mu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ou(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Au(e,t,n,r){return e instanceof Ru?function(e,t,n,r){if(!_u(e.precondition,t))return n;const i=e.value.clone(),s=Fu(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Lu?function(e,t,n,r){if(!_u(e.precondition,t))return n;const i=Fu(e.fieldTransforms,r,t),s=t.data;return s.setAll(Ou(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return _u(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Du(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=pu(r.transform,e||null);null!=i&&(null===n&&(n=el.empty()),n.set(r.field,i))}return n||null}function Pu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ka(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof gu&&t instanceof gu||e instanceof vu&&t instanceof vu?Ka(e.elements,t.elements,Uo):e instanceof wu&&t instanceof wu?Uo(e.gt,t.gt):e instanceof mu&&t instanceof mu}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ru extends xu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Lu extends xu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ou(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Mu(e,t,n){const r=new Map;Aa(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,fu(a,o,n[i]))}return r}function Fu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,du(e,s,t))}return r}class ju extends xu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vu extends xu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Uu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Nu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Au(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Au(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=tu();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Iu(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Ga.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),su())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,(e,t)=>Pu(e,t))&&Ka(this.baseMutations,e.baseMutations,(e,t)=>Pu(e,t))}}class zu{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Aa(e.mutations.length===n.length);let r=ru;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new zu(e,t,n,r)}}class Bu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class qu{constructor(e,t){this.count=e,this.unchangedNames=t}}var Hu,Wu;function Ku(e){switch(e){default:return Na();case Pa.CANCELLED:case Pa.UNKNOWN:case Pa.DEADLINE_EXCEEDED:case Pa.RESOURCE_EXHAUSTED:case Pa.INTERNAL:case Pa.UNAVAILABLE:case Pa.UNAUTHENTICATED:return!1;case Pa.INVALID_ARGUMENT:case Pa.NOT_FOUND:case Pa.ALREADY_EXISTS:case Pa.PERMISSION_DENIED:case Pa.FAILED_PRECONDITION:case Pa.ABORTED:case Pa.OUT_OF_RANGE:case Pa.UNIMPLEMENTED:case Pa.DATA_LOSS:return!0}}function Qu(e){if(void 0===e)return _a("GRPC error has no .code"),Pa.UNKNOWN;switch(e){case Hu.OK:return Pa.OK;case Hu.CANCELLED:return Pa.CANCELLED;case Hu.UNKNOWN:return Pa.UNKNOWN;case Hu.DEADLINE_EXCEEDED:return Pa.DEADLINE_EXCEEDED;case Hu.RESOURCE_EXHAUSTED:return Pa.RESOURCE_EXHAUSTED;case Hu.INTERNAL:return Pa.INTERNAL;case Hu.UNAVAILABLE:return Pa.UNAVAILABLE;case Hu.UNAUTHENTICATED:return Pa.UNAUTHENTICATED;case Hu.INVALID_ARGUMENT:return Pa.INVALID_ARGUMENT;case Hu.NOT_FOUND:return Pa.NOT_FOUND;case Hu.ALREADY_EXISTS:return Pa.ALREADY_EXISTS;case Hu.PERMISSION_DENIED:return Pa.PERMISSION_DENIED;case Hu.FAILED_PRECONDITION:return Pa.FAILED_PRECONDITION;case Hu.ABORTED:return Pa.ABORTED;case Hu.OUT_OF_RANGE:return Pa.OUT_OF_RANGE;case Hu.UNIMPLEMENTED:return Pa.UNIMPLEMENTED;case Hu.DATA_LOSS:return Pa.DATA_LOSS;default:return Na()}}(Wu=Hu||(Hu={}))[Wu.OK=0]="OK",Wu[Wu.CANCELLED=1]="CANCELLED",Wu[Wu.UNKNOWN=2]="UNKNOWN",Wu[Wu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wu[Wu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wu[Wu.NOT_FOUND=5]="NOT_FOUND",Wu[Wu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wu[Wu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wu[Wu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wu[Wu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wu[Wu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wu[Wu.ABORTED=10]="ABORTED",Wu[Wu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wu[Wu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wu[Wu.INTERNAL=13]="INTERNAL",Wu[Wu.UNAVAILABLE=14]="UNAVAILABLE",Wu[Wu.DATA_LOSS=15]="DATA_LOSS";class Gu{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return $u}static getOrCreateInstance(){return null===$u&&($u=new Gu),$u}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let $u=null;function Yu(){return new TextEncoder}const Xu=new ba([4294967295,4294967295],0);function Ju(e){const t=Yu().encode(e),n=new va;return n.update(t),new Uint8Array(n.digest())}function Zu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ba([n,r],0),new ba([i,s],0)]}class ec{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new tc("Invalid padding: ".concat(t));if(n<0)throw new tc("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new tc("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new tc("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=ba.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(ba.fromNumber(n)));return 1===r.compare(Xu)&&(r=new ba([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Ju(e),[n,r]=Zu(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new ec(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.It)return;const t=Ju(e),[n,r]=Zu(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new nc(Ga.min(),r,new Eo(Wa),Yl(),su())}}class rc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new rc(n,t,su(),su(),su())}}class ic{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class sc{constructor(e,t){this.targetId=e,this.Vt=t}}class ac{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Io.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class oc{constructor(){this.St=0,this.Dt=cc(),this.Ct=Io.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=su(),t=su(),n=su();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Na()}}),new rc(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=cc()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class lc{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Yl(),this.zt=uc(),this.Wt=new Eo(Wa)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Na()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(Nl(s))if(0===r){const e=new Za(s.path);this.Yt(n,e,nl.newNoDocument(e,Ga.min()))}else Aa(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Gu.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,a,o,l;const u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(s=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==c?void 0:c.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),u}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let o,l;try{o=Po(i).toUint8Array()}catch(e){if(e instanceof xo)return xa("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new ec(o,s,a)}catch(e){return xa(e instanceof tc?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&Nl(i.target)){const t=new Za(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,nl.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=su();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new nc(e,t,this.Wt,this.jt,n);return this.jt=Yl(),this.zt=uc(),this.Wt=new Eo(Wa),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new oc,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Co(Wa),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ta("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new oc),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function uc(){return new Eo(Za.comparator)}function cc(){return new Eo(Za.comparator)}const hc={asc:"ASCENDING",desc:"DESCENDING"},dc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fc={and:"AND",or:"OR"};class pc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mc(e,t){return e.useProto3Json||ho(t)?t:{value:t}}function gc(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function yc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vc(e,t){return gc(e,t.toTimestamp())}function bc(e){return Aa(!!e),Ga.fromTimestamp(function(e){const t=Ao(e);return new Qa(t.seconds,t.nanos)}(e))}function wc(e,t){return function(e){return new Ya(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ec(e){const t=Ya.fromString(e);return Aa(zc(t)),t}function Sc(e,t){return wc(e.databaseId,t.path)}function kc(e,t){const n=Ec(t);if(n.get(1)!==e.databaseId.projectId)throw new Ra(Pa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ra(Pa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Za(xc(n))}function Cc(e,t){return wc(e.databaseId,t)}function Tc(e){const t=Ec(e);return 4===t.length?Ya.emptyPath():xc(t)}function _c(e){return new Ya(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xc(e){return Aa(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ic(e,t,n){return{name:Sc(e,t),fields:n.value.mapValue.fields}}function Nc(e,t){let n;if(t instanceof Ru)n={update:Ic(e,t.key,t.value)};else if(t instanceof ju)n={delete:Sc(e,t.key)};else if(t instanceof Lu)n={update:Ic(e,t.key,t.data),updateMask:Uc(t.fieldMask)};else{if(!(t instanceof Vu))return Na();n={verify:Sc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof mu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof gu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wu)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Na()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Na()}(e,t.precondition)),n}function Ac(e,t){return{documents:[Cc(e,t.path)]}}function Dc(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Cc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Cc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Vc(cl.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Fc(e.field),direction:Lc(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=mc(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Pc(e){let t=Tc(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Aa(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Rc(e);return t instanceof cl&&dl(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>function(e){return new al(jc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,ho(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new rl(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new rl(n,t)}(n.endAt)),Dl(t,i,a,s,o,"F",l,u)}function Rc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=jc(e.unaryFilter.field);return ul.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=jc(e.unaryFilter.field);return ul.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=jc(e.unaryFilter.field);return ul.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=jc(e.unaryFilter.field);return ul.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Na()}}(e):void 0!==e.fieldFilter?function(e){return ul.create(jc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Na()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return cl.create(e.compositeFilter.filters.map(e=>Rc(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Na()}}(e.compositeFilter.op))}(e):Na()}function Lc(e){return hc[e]}function Oc(e){return dc[e]}function Mc(e){return fc[e]}function Fc(e){return{fieldPath:e.canonicalString()}}function jc(e){return Ja.fromServerFormat(e.fieldPath)}function Vc(e){return e instanceof ul?function(e){if("=="===e.op){if(Yo(e.value))return{unaryFilter:{field:Fc(e.field),op:"IS_NAN"}};if($o(e.value))return{unaryFilter:{field:Fc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yo(e.value))return{unaryFilter:{field:Fc(e.field),op:"IS_NOT_NAN"}};if($o(e.value))return{unaryFilter:{field:Fc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fc(e.field),op:Oc(e.op),value:e.value}}}(e):e instanceof cl?function(e){const t=e.getFilters().map(e=>Vc(e));return 1===t.length?t[0]:{compositeFilter:{op:Mc(e.op),filters:t}}}(e):Na()}function Uc(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function zc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Bc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ga.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ga.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Io.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Bc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qc{constructor(e){this.fe=e}}function Hc(e){const t=Pc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ul(t,t.limit,"L"):t}class Wc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Do(e.integerValue));else if("doubleValue"in e){const n=Do(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),fo(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Po(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Zo(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Na()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Za.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Wc.Ve=new Wc;class Kc{constructor(){this.rn=new Qc}addToCollectionParentIndex(e,t){return this.rn.add(t),lo.resolve()}getCollectionParents(e,t){return lo.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return lo.resolve()}deleteFieldIndex(e,t){return lo.resolve()}getDocumentsMatchingTarget(e,t){return lo.resolve(null)}getIndexType(e,t){return lo.resolve(0)}getFieldIndexes(e,t){return lo.resolve([])}getNextCollectionGroupToUpdate(e){return lo.resolve(null)}getMinOffset(e,t){return lo.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,t){return lo.resolve(ro.min())}updateCollectionGroup(e,t,n){return lo.resolve()}updateIndexEntries(e,t){return lo.resolve()}}class Qc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Co(Ya.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Co(Ya.comparator)).toArray()}}new Uint8Array(0);class Gc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Gc(e,Gc.DEFAULT_COLLECTION_PERCENTILE,Gc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Gc.DEFAULT_COLLECTION_PERCENTILE=10,Gc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gc.DEFAULT=new Gc(41943040,Gc.DEFAULT_COLLECTION_PERCENTILE,Gc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gc.DISABLED=new Gc(-1,0,0);class $c{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new $c(0)}static Mn(){return new $c(-1)}}class Yc{constructor(){this.changes=new Gl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?lo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Au(n.mutation,e,_o.empty(),Qa.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,su()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:su();const r=eu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Jl();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=eu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,su()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Yl();const s=nu(),a=nu();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Lu)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Au(a.mutation,t,a.mutation.getFieldMask(),Qa.now())):s.set(t.key,_o.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Xc(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=nu();let r=new Eo((e,t)=>e-t),i=su();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||_o.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||su()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,u=tu();l.forEach(e=>{if(!i.has(e)){const r=Iu(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,u))}return lo.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return Za.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ml(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):lo.resolve(eu());let a=-1,o=i;return s.next(t=>lo.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?lo.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,su())).next(e=>({batchId:a,changes:Zl(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Za(t)).next(e=>{let t=Jl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Jl();return this.indexManager.getCollectionParents(e,r).next(s=>lo.forEach(s,s=>{const a=function(e,t){return new Al(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,nl.newInvalidDocument(r)))});let n=Jl();return e.forEach((e,i)=>{const s=r.get(e);void 0!==s&&Au(s.mutation,i,_o.empty(),Qa.now()),Hl(t,i)&&(n=n.insert(e,i))}),n})}}class Zc{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return lo.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:bc(n.createTime)}),lo.resolve()}getNamedQuery(e,t){return lo.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Hc(e.bundledQuery),readTime:bc(e.readTime)}}(t)),lo.resolve()}}class eh{constructor(){this.overlays=new Eo(Za.comparator),this.ls=new Map}getOverlay(e,t){return lo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=eu();return lo.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),lo.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),lo.resolve()}getOverlaysForCollection(e,t,n){const r=eu(),i=t.length+1,s=new Za(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return lo.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Eo((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=eu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=eu(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return lo.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Bu(t,n));let i=this.ls.get(t);void 0===i&&(i=su(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class th{constructor(){this.fs=new Co(nh.ds),this.ws=new Co(nh._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new nh(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new nh(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new Za(new Ya([])),n=new nh(t,e),r=new nh(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Za(new Ya([])),n=new nh(t,e),r=new nh(t,e+1);let i=su();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new nh(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class nh{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Za.comparator(e.key,t.key)||Wa(e.As,t.As)}static _s(e,t){return Wa(e.As,t.As)||Za.comparator(e.key,t.key)}}class rh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Co(nh.ds)}checkEmpty(e){return lo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Uu(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new nh(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return lo.resolve(s)}lookupMutationBatch(e,t){return lo.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return lo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return lo.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return lo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new nh(t,0),r=new nh(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),lo.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Co(Wa);return t.forEach(e=>{const t=new nh(e,0),r=new nh(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),lo.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Za.isDocumentKey(i)||(i=i.child(""));const s=new nh(new Za(i),0);let a=new Co(Wa);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)},s),lo.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Aa(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return lo.forEach(t.mutations,r=>{const i=new nh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new nh(t,0),r=this.Rs.firstAfterOrEqual(n);return lo.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,lo.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ih{constructor(e){this.Ds=e,this.docs=new Eo(Za.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return lo.resolve(n?n.document.mutableCopy():nl.newInvalidDocument(t))}getEntries(e,t){let n=Yl();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():nl.newInvalidDocument(e))}),lo.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Yl();const s=t.path,a=new Za(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||io(no(a),n)<=0||(r.has(a.key)||Hl(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return lo.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Na()}Cs(e,t){return lo.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new sh(this)}getSize(e){return lo.resolve(this.size)}}class sh extends Yc{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),lo.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ah{constructor(e){this.persistence=e,this.xs=new Gl(e=>xl(e),Il),this.lastRemoteSnapshotVersion=Ga.min(),this.highestTargetId=0,this.Ns=0,this.ks=new th,this.targetCount=0,this.Ms=$c.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),lo.resolve()}getLastRemoteSnapshotVersion(e){return lo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return lo.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),lo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),lo.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new $c(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,lo.resolve()}updateTargetData(e,t){return this.Fn(t),lo.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,lo.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),lo.waitFor(i).next(()=>r)}getTargetCount(e){return lo.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return lo.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),lo.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),lo.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),lo.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return lo.resolve(n)}containsKey(e,t){return lo.resolve(this.ks.containsKey(t))}}class oh{constructor(e,t){this.$s={},this.overlays={},this.Os=new co(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ah(this),this.indexManager=new Kc,this.remoteDocumentCache=function(e){return new ih(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new qc(t),this.qs=new Zc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new rh(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Ta("MemoryPersistence","Starting transaction:",e);const r=new lh(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return lo.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class lh extends ao{constructor(e){super(),this.currentSequenceNumber=e}}class uh{constructor(e){this.persistence=e,this.Qs=new th,this.js=null}static zs(e){return new uh(e)}get Ws(){if(this.js)return this.js;throw Na()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),lo.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),lo.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),lo.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lo.forEach(this.Ws,n=>{const r=Za.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,Ga.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return lo.or([()=>lo.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class ch{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=su(),r=su();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ch(e,t.fromCache,n,r)}}class hh{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(Rl(t))return lo.resolve(null);let n=jl(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Ul(t,null,"F"),n=jl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=su(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,Ul(t,null,"F")):this.Wi(e,s,t,n)}))})))}Gi(e,t,n,r){return Rl(t)||r.isEqual(Ga.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(Ca()<=Me.DEBUG&&Ta("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ql(t)),this.Wi(e,s,t,to(r,-1)))})}ji(e,t){let n=new Co(Kl(e));return t.forEach((t,r)=>{Hl(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Ca()<=Me.DEBUG&&Ta("QueryEngine","Using full collection scan to execute query:",ql(t)),this.Ui.getDocumentsMatchingQuery(e,t,ro.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class dh{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Eo(Wa),this.Yi=new Gl(e=>xl(e),Il),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jc(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function fh(e,t,n,r){return new dh(e,t,n,r)}async function ph(e,t){const n=Da(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=su();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({er:e,removedBatchIds:i,addedBatchIds:s}))})})}function mh(e){const t=Da(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function gh(e,t,n){let r=su(),i=su();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Yl();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Ga.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Ta("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{nr:r,sr:i}})}function yh(e,t){const n=Da(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function vh(e,t){const n=Da(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,lo.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new Bc(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function bh(e,t,n){const r=Da(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!uo(e))throw e;Ta("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function wh(e,t,n){const r=Da(e);let i=Ga.min(),s=su();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Da(e),i=r.Yi.get(n);return void 0!==i?lo.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,jl(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Ga.min(),n?s:su())).next(e=>(Eh(r,Wl(t),e),{documents:e,ir:s})))}function Eh(e,t,n){let r=e.Xi.get(t)||Ga.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class Sh{constructor(){this.activeTargetIds=ou()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kh{constructor(){this.Hr=new Sh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Sh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ch{Yr(e){}shutdown(){}}class Th{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ta("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ta("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _h=null;function xh(){return null===_h?_h=268435456+Math.round(2147483648*Math.random()):_h++,"0x"+_h.toString(16)}const Ih={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nh{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ah="WebChannelConnection";class Dh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=xh(),a=this.To(e,t);Ta("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={};return this.Eo(o,r,i),this.Ao(e,a,o,n).then(t=>(Ta("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw xa("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=Ih[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=xh();return new Promise((s,a)=>{const o=new ya;o.setWithCredentials(!0),o.listenOnce(da.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case ha.NO_ERROR:const t=o.getResponseJson();Ta(Ah,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case ha.TIMEOUT:Ta(Ah,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Ra(Pa.DEADLINE_EXCEEDED,"Request time out"));break;case ha.HTTP_ERROR:const n=o.getStatus();if(Ta(Ah,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pa).indexOf(t)>=0?t:Pa.UNKNOWN}(t.status);a(new Ra(e,t.message))}else a(new Ra(Pa.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ra(Pa.UNAVAILABLE,"Connection failed."));break;default:Na()}}finally{Ta(Ah,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Ta(Ah,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=xh(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ua(),a=ca(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new ma({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const u=i.join("");Ta(Ah,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),o);const c=s.createWebChannel(u,o);let h=!1,d=!1;const f=new Nh({ro:t=>{d?Ta(Ah,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Ta(Ah,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),Ta(Ah,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},oo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(c,ga.EventType.OPEN,()=>{d||Ta(Ah,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(c,ga.EventType.CLOSE,()=>{d||(d=!0,Ta(Ah,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())}),p(c,ga.EventType.ERROR,t=>{d||(d=!0,xa(Ah,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new Ra(Pa.UNAVAILABLE,"The operation could not be completed")))}),p(c,ga.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];Aa(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Ta(Ah,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Hu[e];if(void 0!==t)return Qu(t)}(t),i=a.message;void 0===n&&(n=Pa.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.wo(new Ra(n,i)),c.close()}else Ta(Ah,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}}),p(a,fa.STAT_EVENT,t=>{t.stat===pa.PROXY?Ta(Ah,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===pa.NOPROXY&&Ta(Ah,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function Ph(){return"undefined"!=typeof document?document:null}function Rh(e){return new pc(e,!0)}class Lh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Ta("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Oh{constructor(e,t,n,r,i,s,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Lh(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Pa.RESOURCE_EXHAUSTED?(_a(t.toString()),_a("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Pa.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new Ra(Pa.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Ta("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ta("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mh extends Oh{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Na()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Aa(void 0===t||"string"==typeof t),Io.fromBase64String(t||"")):(Aa(void 0===t||t instanceof Uint8Array),Io.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Pa.UNKNOWN:Qu(e.code);return new Ra(t,e.message||"")}(a);n=new ac(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=kc(e,r.document.name),s=bc(r.document.updateTime),a=r.document.createTime?bc(r.document.createTime):Ga.min(),o=new el({mapValue:{fields:r.document.fields}}),l=nl.newFoundDocument(i,s,a,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ic(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=kc(e,r.document),s=r.readTime?bc(r.readTime):Ga.min(),a=nl.newNoDocument(i,s),o=r.removedTargetIds||[];n=new ic([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=kc(e,r.document),s=r.removedTargetIds||[];n=new ic([],s,i,null)}else{if(!("filter"in t))return Na();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new qu(r,i),a=e.targetId;n=new sc(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ga.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ga.min():t.readTime?bc(t.readTime):Ga.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=_c(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Nl(r)?{documents:Ac(e,r)}:{query:Dc(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=yc(e,t.resumeToken);const r=mc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ga.min())>0){n.readTime=gc(e,t.snapshotVersion.toTimestamp());const r=mc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Na()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=_c(this.serializer),t.removeTarget=e,this.Wo(t)}}class Fh extends Oh{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Aa(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Aa(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?bc(e.updateTime):bc(t);return n.isEqual(Ga.min())&&(n=bc(t)),new Cu(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=bc(e.commitTime);return this.listener.cu(n,t)}return Aa(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=_c(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Nc(this.serializer,e))};this.Wo(t)}}class jh extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Ra(Pa.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Pa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ra(Pa.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.vo(e,t,n,s,a,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Pa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ra(Pa.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class Vh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(_a(t),this.mu=!1):Ta("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Uh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{$h(this)&&(Ta("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Da(e);t.vu.add(4),await Bh(t),t.bu.set("Unknown"),t.vu.delete(4),await zh(t)}(this))})}),this.bu=new Vh(n,r)}}async function zh(e){if($h(e))for(const t of e.Ru)await t(!0)}async function Bh(e){for(const t of e.Ru)await t(!1)}function qh(e,t){const n=Da(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Gh(n)?Qh(n):fd(n).Ko()&&Wh(n,t))}function Hh(e,t){const n=Da(e),r=fd(n);n.Au.delete(t),r.Ko()&&Kh(n,t),0===n.Au.size&&(r.Ko()?r.jo():$h(n)&&n.bu.set("Unknown"))}function Wh(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ga.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fd(e).su(t)}function Kh(e,t){e.Vu.qt(t),fd(e).iu(t)}function Qh(e){e.Vu=new lc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),fd(e).start(),e.bu.gu()}function Gh(e){return $h(e)&&!fd(e).Uo()&&e.Au.size>0}function $h(e){return 0===Da(e).vu.size}function Yh(e){e.Vu=void 0}async function Xh(e){e.Au.forEach((t,n)=>{Wh(e,t)})}async function Jh(e,t){Yh(e),Gh(e)?(e.bu.Iu(t),Qh(e)):e.bu.set("Unknown")}async function Zh(e,t,n){if(e.bu.set("Online"),t instanceof ac&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Ta("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ed(e,n)}else if(t instanceof ic?e.Vu.Ht(t):t instanceof sc?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Ga.min()))try{const t=await mh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Io.EMPTY_BYTE_STRING,r.snapshotVersion)),Kh(e,t);const i=new Bc(r.target,t,n,r.sequenceNumber);Wh(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ta("RemoteStore","Failed to raise snapshot:",t),await ed(e,t)}}async function ed(e,t,n){if(!uo(t))throw t;e.vu.add(1),await Bh(e),e.bu.set("Offline"),n||(n=()=>mh(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ta("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await zh(e)})}function td(e,t){return t().catch(n=>ed(e,n,t))}async function nd(e){const t=Da(e),n=pd(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;rd(t);)try{const e=await yh(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,id(t,e)}catch(e){await ed(t,e)}sd(t)&&ad(t)}function rd(e){return $h(e)&&e.Eu.length<10}function id(e,t){e.Eu.push(t);const n=pd(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function sd(e){return $h(e)&&!pd(e).Uo()&&e.Eu.length>0}function ad(e){pd(e).start()}async function od(e){pd(e).hu()}async function ld(e){const t=pd(e);for(const n of e.Eu)t.uu(n.mutations)}async function ud(e,t,n){const r=e.Eu.shift(),i=zu.from(r,t,n);await td(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await nd(e)}async function cd(e,t){t&&pd(e).ou&&await async function(e,t){if(Ku(n=t.code)&&n!==Pa.ABORTED){const n=e.Eu.shift();pd(e).Qo(),await td(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await nd(e)}var n}(e,t),sd(e)&&ad(e)}async function hd(e,t){const n=Da(e);n.asyncQueue.verifyOperationInProgress(),Ta("RemoteStore","RemoteStore received new credentials");const r=$h(n);n.vu.add(3),await Bh(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await zh(n)}async function dd(e,t){const n=Da(e);t?(n.vu.delete(2),await zh(n)):t||(n.vu.add(2),await Bh(n),n.bu.set("Unknown"))}function fd(e){return e.Su||(e.Su=function(e,t,n){const r=Da(e);return r.fu(),new Mh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Xh.bind(null,e),ao:Jh.bind(null,e),nu:Zh.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),Gh(e)?Qh(e):e.bu.set("Unknown")):(await e.Su.stop(),Yh(e))})),e.Su}function pd(e){return e.Du||(e.Du=function(e,t,n){const r=Da(e);return r.fu(),new Fh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:od.bind(null,e),ao:cd.bind(null,e),au:ld.bind(null,e),cu:ud.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await nd(e)):(await e.Du.stop(),e.Eu.length>0&&(Ta("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class md{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new La,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new md(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ra(Pa.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gd(e,t){if(_a("AsyncQueue","".concat(t,": ").concat(e)),uo(e))return new Ra(Pa.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class yd{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Za.comparator(t.key,n.key):(e,t)=>Za.comparator(e.key,t.key),this.keyedMap=Jl(),this.sortedSet=new Eo(this.comparator)}static emptySet(e){return new yd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new yd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class vd{constructor(){this.Cu=new Eo(Za.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Na():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class bd{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new bd(e,t,yd.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class wd{constructor(){this.Nu=void 0,this.listeners=[]}}class Ed{constructor(){this.queries=new Gl(e=>Bl(e),zl),this.onlineState="Unknown",this.ku=new Set}}async function Sd(e,t){const n=Da(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new wd),i)try{s.Nu=await n.onListen(r)}catch(e){const n=gd(e,"Initialization of query '".concat(ql(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&_d(n)}async function kd(e,t){const n=Da(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Cd(e,t){const n=Da(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&_d(n)}function Td(e,t,n){const r=Da(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function _d(e){e.ku.forEach(e=>{e.next()})}class xd{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new bd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=bd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Id{constructor(e){this.key=e}}class Nd{constructor(e){this.key=e}}class Ad{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=su(),this.mutatedKeys=su(),this.tc=Kl(e),this.ec=new yd(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new vd,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=Hl(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.rc(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.tc(c,o)>0||l&&this.tc(c,l)<0)&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(a=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Na()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==i.length||o?{snapshot:new bd(this.query,e.ec,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new vd,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=su(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new Nd(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new Id(n))}),t}hc(e){this.Yu=e.ir,this.Zu=su();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return bd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Dd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Pd{constructor(e){this.key=e,this.fc=!1}}class Rd{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Gl(e=>Bl(e),zl),this._c=new Map,this.mc=new Set,this.gc=new Eo(Za.comparator),this.yc=new Map,this.Ic=new th,this.Tc={},this.Ec=new Map,this.Ac=$c.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Ld(e,t){const n=Jd(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await vh(n.localStore,jl(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Od(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&qh(n.remoteStore,e)}return i}async function Od(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await wh(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return Kd(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const s=await wh(e.localStore,t,!0),a=new Ad(t,s.ir),o=a.sc(s.documents),l=rc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(o,e.isPrimaryClient,l);Kd(e,n,u.cc);const c=new Dd(t,n,a);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function Md(e,t){const n=Da(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!zl(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await bh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Hh(n.remoteStore,r.targetId),Hd(n,r.targetId)}).catch(oo)):(Hd(n,r.targetId),await bh(n.localStore,r.targetId,!0))}async function Fd(e,t){const n=Da(e);try{const e=await function(e,t){const n=Da(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Bs.addMatchingKeys(e,s.addedDocuments,o)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?u=u.withResumeToken(Io.EMPTY_BYTE_STRING,Ga.min()).withLastLimboFreeSnapshotVersion(Ga.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(o,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&a.push(n.Bs.updateTargetData(e,u))});let o=Yl(),l=su();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(gh(e,s,t.documentUpdates).next(e=>{o=e.nr,l=e.sr})),!r.isEqual(Ga.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return lo.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(Aa(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Aa(r.fc):e.removedDocuments.size>0&&(Aa(r.fc),r.fc=!1))}),await $d(n,e,t)}catch(e){await oo(e)}}function jd(e,t,n){const r=Da(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Da(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&_d(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Vd(e,t,n){const r=Da(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new Eo(Za.comparator);e=e.insert(s,nl.newNoDocument(s,Ga.min()));const n=su().add(s),i=new nc(Ga.min(),new Map,new Eo(Wa),e,n);await Fd(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),Gd(r)}else await bh(r.localStore,t,!1).then(()=>Hd(r,t,n)).catch(oo)}async function Ud(e,t){const n=Da(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Da(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=lo.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Aa(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=su();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);qd(n,r,null),Bd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $d(n,e)}catch(e){await oo(e)}}async function zd(e,t,n){const r=Da(e);try{const e=await function(e,t){const n=Da(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Aa(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);qd(r,t,n),Bd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await $d(r,e)}catch(n){await oo(n)}}function Bd(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function qd(e,t,n){const r=Da(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Hd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||Wd(e,t)})}function Wd(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Hh(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Gd(e))}function Kd(e,t,n){for(const r of n)r instanceof Id?(e.Ic.addReference(r.key,t),Qd(e,r)):r instanceof Nd?(Ta("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Wd(e,r.key)):Na()}function Qd(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Ta("SyncEngine","New document in limbo: "+n),e.mc.add(r),Gd(e))}function Gd(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Za(Ya.fromString(t)),r=e.Ac.next();e.yc.set(r,new Pd(n)),e.gc=e.gc.insert(n,r),qh(e.remoteStore,new Bc(jl(Pl(n.path)),r,"TargetPurposeLimboResolution",co.ct))}}async function $d(e,t,n){const r=Da(e),i=[],s=[],a=[];r.wc.isEmpty()||(r.wc.forEach((e,o)=>{a.push(r.Rc(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=ch.Li(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=Da(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>lo.forEach(t,t=>lo.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>lo.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!uo(e))throw e;Ta("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function Yd(e,t){const n=Da(e);if(!n.currentUser.isEqual(t)){Ta("SyncEngine","User change. New user:",t.toKey());const e=await ph(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new Ra(Pa.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await $d(n,e.er)}}function Xd(e,t){const n=Da(e),r=n.yc.get(t);if(r&&r.fc)return su().add(r.key);{let e=su();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Jd(e){const t=Da(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Vd.bind(null,t),t.dc.nu=Cd.bind(null,t.eventManager),t.dc.Pc=Td.bind(null,t.eventManager),t}function Zd(e){const t=Da(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ud.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zd.bind(null,t),t}class ef{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return fh(this.persistence,new hh,e.initialUser,this.serializer)}createPersistence(e){return new oh(uh.zs,this.serializer)}createSharedClientState(e){return new kh}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class tf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>jd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yd.bind(null,this.syncEngine),await dd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ed}createDatastore(e){const t=Rh(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Dh(r));var r;return function(e,t,n,r){return new jh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>jd(this.syncEngine,e,0),s=Th.D()?new Th:new Ch,new Uh(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Rd(e,t,n,r,i,s);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Da(e);Ta("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Bh(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class nf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):_a("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class rf{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ea.UNAUTHENTICATED,this.clientId=Ha.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{Ta("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Ta("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ra(Pa.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new La;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=gd(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function sf(e,t){e.asyncQueue.verifyOperationInProgress(),Ta("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await ph(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function af(e,t){e.asyncQueue.verifyOperationInProgress();const n=await lf(e);Ta("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>hd(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>hd(t.remoteStore,n)),e._onlineComponents=t}function of(e){return"FirebaseError"===e.name?e.code===Pa.FAILED_PRECONDITION||e.code===Pa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function lf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ta("FirestoreClient","Using user provided OfflineComponentProvider");try{await sf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!of(n))throw n;xa("Error using user provided cache. Falling back to memory cache: "+n),await sf(e,new ef)}}else Ta("FirestoreClient","Using default OfflineComponentProvider"),await sf(e,new ef);return e._offlineComponents}async function uf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ta("FirestoreClient","Using user provided OnlineComponentProvider"),await af(e,e._uninitializedComponentsProvider._online)):(Ta("FirestoreClient","Using default OnlineComponentProvider"),await af(e,new tf))),e._onlineComponents}function cf(e){return uf(e).then(e=>e.syncEngine)}async function hf(e){const t=await uf(e),n=t.eventManager;return n.onListen=Ld.bind(null,t.syncEngine),n.onUnlisten=Md.bind(null,t.syncEngine),n}function df(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new La;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new nf({next:s=>{t.enqueueAndForget(()=>kd(e,a));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new Ra(Pa.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new Ra(Pa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new xd(Pl(n.path),s,{includeMetadataChanges:!0,Ku:!0});return Sd(e,a)}(await hf(e),e.asyncQueue,t,n,r)),r.promise}function ff(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new La;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new nf({next:n=>{t.enqueueAndForget(()=>kd(e,a)),n.fromCache&&"server"===r.source?i.reject(new Ra(Pa.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new xd(n,s,{includeMetadataChanges:!0,Ku:!0});return Sd(e,a)}(await hf(e),e.asyncQueue,t,n,r)),r.promise}function pf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const mf=new Map;function gf(e,t,n){if(!n)throw new Ra(Pa.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function yf(e){if(!Za.isDocumentKey(e))throw new Ra(Pa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function vf(e){if(Za.isDocumentKey(e))throw new Ra(Pa.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function bf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Na()}function wf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ra(Pa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bf(e);throw new Ra(Pa.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Ef{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ra(Pa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ra(Pa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ra(Pa.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ra(Pa.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ra(Pa.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ra(Pa.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Sf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ef({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ra(Pa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ra(Pa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ef(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ma;switch(e.type){case"firstParty":return new Ua(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ra(Pa.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mf.get(e);t&&(Ta("ComponentProvider","Removing Datastore"),mf.delete(e),t.terminate())}(this),Promise.resolve()}}function kf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=wf(e,Sf))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ea.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ra(Pa.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ea(s)}e._authCredentials=new Fa(new Oa(t,n))}}class Cf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _f(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cf(this.firestore,e,this._key)}}class Tf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Tf(this.firestore,e,this._query)}}class _f extends Tf{constructor(e,t,n){super(e,t,Pl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cf(this.firestore,null,new Za(e))}withConverter(e){return new _f(this.firestore,e,this._path)}}function xf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ae(e),gf("collection","path",t),e instanceof Sf){const n=Ya.fromString(t,...r);return vf(n),new _f(e,null,n)}{if(!(e instanceof Cf||e instanceof _f))throw new Ra(Pa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ya.fromString(t,...r));return vf(n),new _f(e.firestore,null,n)}}function If(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ae(e),1===arguments.length&&(t=Ha.A()),gf("doc","path",t),e instanceof Sf){const n=Ya.fromString(t,...r);return yf(n),new Cf(e,null,new Za(n))}{if(!(e instanceof Cf||e instanceof _f))throw new Ra(Pa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ya.fromString(t,...r));return yf(n),new Cf(e.firestore,e instanceof _f?e.converter:null,new Za(n))}}class Nf{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Lh(this,"async_queue_retry"),this.Xc=()=>{const e=Ph();e&&Ta("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Ph();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Ph();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new La;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!uo(e))throw e;Ta("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw _a("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=md.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&Na()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Af extends Sf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Nf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Rf(this),this._firestoreClient.terminate()}}function Df(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt;const t=Lt.get(e);if(!t&&e===Pt&&Se())return zt();if(!t)throw Vt.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=jt(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=Ee("firestore");e&&kf(i,...e)}return i}function Pf(e){return e._firestoreClient||Rf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Rf(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Mo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,pf(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new rf(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Lf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lf(Io.fromBase64String(e))}catch(e){throw new Ra(Pa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Lf(Io.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Of{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ra(Pa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ja(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mf{constructor(e){this._methodName=e}}class Ff{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ra(Pa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ra(Pa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wa(this._lat,e._lat)||Wa(this._long,e._long)}}const jf=/^__.*__$/;class Vf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Lu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ru(e,this.data,t,this.fieldTransforms)}}function Uf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Na()}}class zf{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new zf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ep(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Uf(this.ca)&&jf.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Bf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Rh(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new zf({ca:e,methodName:t,ga:n,path:Ja.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qf(e){const t=e._freezeSettings(),n=Rh(e._databaseId);return new Bf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Hf(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(s.merge||s.mergeFields?2:0,t,n,i);Yf("Data must be an object, but it was:",a,r);const o=Gf(r,a);let l,u;if(s.merge)l=new _o(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Xf(t,r,n);if(!a.contains(i))throw new Ra(Pa.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));tp(e,i)||e.push(i)}l=new _o(e),u=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=a.fieldTransforms;return new Vf(new el(o),l,u)}class Wf extends Mf{_toFieldTransform(e){return new ku(e.path,new mu)}isEqual(e){return e instanceof Wf}}function Kf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Qf(n,e.ya(r?4:3,t))}function Qf(e,t){if($f(e=Ae(e)))return Yf("Unsupported field value:",t,e),Gf(e,t);if(e instanceof Mf)return function(e,t){if(!Uf(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Qf(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ae(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Qa.fromDate(e);return{timestampValue:gc(t.serializer,n)}}if(e instanceof Qa){const n=new Qa(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gc(t.serializer,n)}}if(e instanceof Ff)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Lf)return{bytesValue:yc(t.serializer,e._byteString)};if(e instanceof Cf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:wc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(bf(e)))}(e,t)}function Gf(e,t){const n={};return wo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bo(e,(e,r)=>{const i=Qf(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function $f(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Qa||e instanceof Ff||e instanceof Lf||e instanceof Cf||e instanceof Mf)}function Yf(e,t,n){if(!$f(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=bf(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Xf(e,t,n){if((t=Ae(t))instanceof Of)return t._internalPath;if("string"==typeof t)return Zf(e,t);throw ep("Field path arguments must be of type string or ",e,!1,void 0,n)}const Jf=new RegExp("[~\\*/\\[\\]]");function Zf(e,t,n){if(t.search(Jf)>=0)throw ep("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Of(...t.split("."))._internalPath}catch(r){throw ep("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ep(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Ra(Pa.INVALID_ARGUMENT,o+e+l)}function tp(e,t){return e.some(e=>e.isEqual(t))}class np{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Cf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ip("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rp extends np{data(){return super.data()}}function ip(e,t){return"string"==typeof t?Zf(e,t):t instanceof Of?t._internalPath:t._delegate._internalPath}function sp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ra(Pa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ap{}class op extends ap{}class lp extends op{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new lp(e,t,n)}_apply(e){const t=this._parse(e);return dp(e._query,t),new Tf(e.firestore,e.converter,Vl(e._query,t))}_parse(e){const t=qf(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Ra(Pa.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){hp(a,s);const t=[];for(const n of a)t.push(cp(r,e,n));o={arrayValue:{values:t}}}else o=cp(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||hp(a,s),o=Kf(n,"where",a,"in"===s||"not-in"===s);return ul.create(i,s,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class up extends ap{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new up(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:cl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)dp(n,i),n=Vl(n,i)}(e._query,t),new Tf(e.firestore,e.converter,Vl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function cp(e,t,n){if("string"==typeof(n=Ae(n))){if(""===n)throw new Ra(Pa.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ml(t)&&-1!==n.indexOf("/"))throw new Ra(Pa.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Ya.fromString(n));if(!Za.isDocumentKey(r))throw new Ra(Pa.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ko(e,new Za(r))}if(n instanceof Cf)return Ko(e,n._key);throw new Ra(Pa.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(bf(n),"."))}function hp(e,t){if(!Array.isArray(e)||0===e.length)throw new Ra(Pa.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function dp(e,t){if(t.isInequality()){const n=Ol(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Ra(Pa.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=Ll(e);null!==i&&fp(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ra(Pa.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ra(Pa.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function fp(e,t,n){if(!n.isEqual(t))throw new Ra(Pa.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class pp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Do(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Na()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return bo(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Ff(Do(e.latitude),Do(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Lo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Oo(e));default:return null}}convertTimestamp(e){const t=Ao(e);return new Qa(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ya.fromString(e);Aa(zc(n));const r=new Fo(n.get(1),n.get(3)),i=new Za(n.popFirst(5));return r.isEqual(t)||_a("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function mp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class gp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yp extends np{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new vp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ip("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class vp extends yp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class bp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new vp(this._firestore,this._userDataWriter,n.key,n,new gp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ra(Pa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new vp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new gp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new vp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:wp(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function wp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Na()}}class Ep extends pp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cf(this.firestore,null,t)}}function Sp(e,t){return function(e,t){const n=new La;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Zd(e);try{const e=await function(e,t){const n=Da(e),r=Qa.now(),i=t.reduce((e,t)=>e.add(t.key),su());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Yl(),l=su();return n.Zi.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=Du(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Lu(e.key,t,tl(t.value.mapValue),Tu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Zl(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Eo(Wa)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await $d(r,e.changes),await nd(r.remoteStore)}catch(e){const t=gd(e,"Failed to persist write");n.reject(t)}}(await cf(e),t,n)),n.promise}(Pf(e),t)}function kp(e,t,n){const r=n.docs.get(t._key),i=new Ep(e);return new yp(e,i,t._key,r,new gp(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Sa=e}("9.23.0"),Ft(new De("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Af(new ja(e.getProvider("auth-internal")),new Ba(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ra(Pa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fo(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Bt(wa,"3.13.0",e),Bt(wa,"3.13.0","esm2017")}();const Cp=()=>(0,ae.jsx)("div",{className:"loading",children:(0,ae.jsx)("img",{src:"https://res.cloudinary.com/ds7jaqjll/image/upload/v1664333333/Wish-Him/Spinner_vcfzmw.gif",alt:"loading"})}),Tp=()=>{const[e,t]=(0,i.useState)({}),[n,r]=(0,i.useState)(!0),{id:s}=z();return(0,i.useEffect)(()=>{(function(e){e=wf(e,Cf);const t=wf(e.firestore,Af);return df(Pf(t),e._key).then(n=>kp(t,e,n))})(If(xf(Df(),"productos"),s)).then(e=>{const n=se({id:e.id},e.data());t(n),r(!1)})},[s]),(0,ae.jsx)("div",{className:"detailContainer",children:n?(0,ae.jsx)(Cp,{}):(0,ae.jsx)(fe,{detail:e})})},_p=e=>{let{id:t,title:n,pictureUrl:r,price:i,description:s}=e;return(0,ae.jsxs)("div",{className:"card",children:[(0,ae.jsx)("img",{src:r,alt:n}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h4",{children:(0,ae.jsx)("b",{children:n})}),(0,ae.jsx)("h5",{children:s}),(0,ae.jsxs)("p",{children:["$",i]}),(0,ae.jsx)(Z,{to:"/item/".concat(t),children:(0,ae.jsx)(he,{data:"Ver Detalles"})})]})]})},xp=e=>{let{info:t}=e;return(0,ae.jsx)("div",{className:"containerCard",children:t.map(e=>(0,ae.jsx)("div",{children:(0,ae.jsx)(_p,{title:e.title,pictureUrl:e.pictureUrl,price:e.price,description:e.description,stock:e.stock,id:e.id})},e.id))})},Ip=()=>{const[e,t]=(0,i.useState)([]),{id:n}=z();return(0,i.useEffect)(()=>{const e=xf(Df(),"productos");(function(e){e=wf(e,Tf);const t=wf(e.firestore,Af),n=Pf(t),r=new Ep(t);return sp(e._query),ff(n,e._query).then(n=>new bp(t,r,e,n))})(n?function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof ap&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof up).length,n=e.filter(e=>e instanceof lp).length;if(t>1||t>0&&n>0)throw new Ra(Pa.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}(e,function(e,t,n){const r=t,i=ip("where",e);return lp._create(i,r,n)}("category","==",n)):e).then(e=>{const n=e.docs.map(e=>se({id:e.id},e.data()));t(n)}).catch(e=>console.log("error",e))},[n]),(0,ae.jsx)("div",{className:"listContainer",children:(0,ae.jsx)(xp,{info:e})})},Np=e=>(0,ae.jsx)("div",{className:"presentation",children:(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h1",{className:"presentTxt",children:e.greeting}),(0,ae.jsx)("h2",{className:"presentTxt1",children:e.texto})]})}),Ap=()=>(0,ae.jsxs)("div",{children:[(0,ae.jsx)(Np,{greeting:"Bienvenidos a Whish Him",texto:"E-commerce de regalos para ellos"}),(0,ae.jsx)(Ip,{})]}),Dp=e=>{let{obj:t}=e;const{removeItem:n}=(0,i.useContext)(oe);return(0,ae.jsxs)("div",{className:"prodContainer",children:[(0,ae.jsx)("div",{children:(0,ae.jsx)("img",{src:t.pictureUrl,alt:"producto"})}),(0,ae.jsxs)("p",{children:["$ ",t.price]}),(0,ae.jsx)("p",{children:t.amount}),(0,ae.jsxs)("p",{children:["$ ",t.amount*t.price]}),(0,ae.jsx)("div",{children:(0,ae.jsx)("button",{className:"btnRemove",onClick:()=>n(t.id),children:"Eliminar"})})]},t.id)},Pp=()=>{const{clear:e,cart:t,totalPrice:n}=(0,i.useContext)(oe);return(0,ae.jsx)("div",{children:0===t.length?(0,ae.jsxs)("div",{className:"titleCart",children:[(0,ae.jsx)("h1",{children:"\xa1Ups,no tienes productos en tu carrito!"}),(0,ae.jsx)(Z,{to:"/",children:"Ir a P\xe1gina principal"})]}):(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h1",{className:"titleCart",children:"Felicitaciones, agregaste al carrito!"}),(0,ae.jsxs)("div",{className:"cartContainer",children:[(0,ae.jsx)("ul",{className:"descriptionProd",children:["Producto","Precio","Cantidad","Precio Final",""].map(e=>(0,ae.jsx)("li",{children:e},e))}),t.map(e=>(0,ae.jsx)(Dp,{obj:e},e.id)),(0,ae.jsx)("p",{children:(0,ae.jsxs)("b",{children:["Total a pagar:",n()]})}),(0,ae.jsx)("button",{className:"btnClear",onClick:e,children:"Vaciar Carrito"}),(0,ae.jsx)(Z,{to:"/checkout",children:(0,ae.jsx)("button",{className:"btnClear",children:"Finalizar compra"})})]})]})})},Rp=e=>{let{className:t,label:n,type:r,name:s,placeholder:a,value:o,error:l,error2:u,onChange:c,expresion:h}=e;const[d,f]=(0,i.useState)(!0),p=()=>{h&&(h.test(o)?f(!0):f(!1))};return(0,ae.jsxs)("div",{className:t,children:[(0,ae.jsx)("label",{htmlFor:s,children:n}),(0,ae.jsx)("input",{type:r,name:s,placeholder:a,value:o,className:"input",onChange:c,onBlur:p,onKeyUp:p}),d?(0,ae.jsx)("span",{}):(0,ae.jsx)("span",{className:"span",children:[l,u]})]})},Lp=e=>{let{changeId:t}=e;const[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[u,c]=(0,i.useState)(""),[h,d]=(0,i.useState)(""),{totalPrice:f,cart:p}=(0,i.useContext)(oe),m={name:/^[a-z A-Z \xc1-\xff \s]{2,15}$/,lastName:/^[a-z A-Z \xc1-\xff \s]{2,15}$/,mail:/^[a-z A-Z 0-9 _ . -]+@[a-z A-Z 0-9 -.]+\.[a-z A-Z 0-9-.]+$/,phone:/^\d{10}$/};return(0,ae.jsx)("div",{children:0===Object.entries(p).length?(0,ae.jsxs)("div",{className:"containerForm",children:[(0,ae.jsx)("h2",{children:"Tu carrito Se encuentra vacio."}),(0,ae.jsx)(Z,{to:"/",children:"Vuelve a la p\xe1gina principal"})]}):(0,ae.jsxs)("div",{className:"containerForm",children:[(0,ae.jsx)("h2",{children:"Confirmaci\xf3n de compra"}),(0,ae.jsxs)("form",{onSubmit:e=>{e.preventDefault();const r={buyer:{name:n,lastName:s,mail:o,phone:h},items:p.map(e=>({id:e.id,title:e.title,price:e.price})),date:new Wf("serverTimestamp"),total:f()};(function(e,t){const n=wf(e.firestore,Af),r=If(e),i=mp(e.converter,t);return Sp(n,[Hf(qf(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Tu.exists(!1))]).then(()=>r)})(xf(Df(),"orders"),r).then(e=>{t(e.id)}).catch(e=>console.log(e))},children:[(0,ae.jsx)(Rp,{className:"containers",label:"Nombre",type:"text",name:"nombre",placeholder:"Ingresa tu nombre",value:n,error:"Incorrecto. No incluyas",error2:" n\xfameros o s\xedmbolos.",expresion:m.name,onChange:e=>r(e.target.value)}),(0,ae.jsx)(Rp,{className:"containers",label:"Apellido",type:"text",name:"apellido",placeholder:"Ingresa tu apellido",value:s,error:"Incorrecto. No incluyas",error2:" n\xfameros o s\xedmbolos.",expresion:m.lastName,onChange:e=>a(e.target.value)}),(0,ae.jsx)(Rp,{className:"containerInput",label:"Mail",type:"email",name:"mail",placeholder:"Ingresa tu mail",value:o,error:"Incorrecto.El formato de mail es err\xf3neo.",error2:"",expresion:m.mail,onChange:e=>l(e.target.value)}),(0,ae.jsx)(Rp,{className:"containerInput",label:"Confirmar Mail",type:"email",name:"mail1",placeholder:"Ingresa nuevamente tu mail",value:u,error:"Incorrecto.No coinciden los mails.",error2:"",onChange:e=>c(e.target.value)}),(0,ae.jsx)("div",{children:o!==u?(0,ae.jsx)("span",{className:"span",children:"Incorrecto.No coinciden los mails."}):(0,ae.jsx)("span",{})}),(0,ae.jsx)(Rp,{className:"containerInput",label:"Tel\xe9fono",type:"number",name:"telefono",placeholder:"Ingresa tu tel\xe9fono.No incluyas espacios ni guiones intermedio",value:h,error:"Incorrecto.Formato de 10 d\xedgitos.",error2:"Caracter\xedstica sin '0' y celulares sin '15'.",expresion:m.phone,onChange:e=>d(e.target.value)}),(0,ae.jsx)("div",{children:(0,ae.jsx)("button",{className:"btnConfirm",disabled:!n||!s||!o||!h,children:"Confirmar Compra"})})]})]})})},Op=e=>{let{stateModal:t,closeModal:n,children:r}=e;return(0,ae.jsx)("article",{className:"modal ".concat(t&&"activeModal"),children:(0,ae.jsxs)("div",{className:"modalContainer",children:[(0,ae.jsx)("button",{className:"modalClose",onClick:n,children:"X"}),r]})})},Mp=e=>{let{stateModal:t,closeModal:n,orderId:r}=e;const{cart:s,totalPrice:a}=(0,i.useContext)(oe);return(0,ae.jsx)("div",{children:(0,ae.jsxs)(Op,{stateModal:t,closeModal:n,children:[(0,ae.jsxs)("h2",{className:"titOrder",children:["Orden: ",r]}),(0,ae.jsx)("div",{className:"cardModal",children:["Cantidad","Producto","Descripci\xf3n","Total"].map(e=>(0,ae.jsx)("b",{children:e}))}),s.map(e=>(0,ae.jsxs)("div",{className:"cardModal",children:[(0,ae.jsx)("b",{children:e.amount}),(0,ae.jsx)("img",{src:e.pictureUrl,alt:e.title}),(0,ae.jsx)("p",{children:e.title}),(0,ae.jsxs)("b",{children:[" $ ",e.amount*e.price]})]})),(0,ae.jsxs)("div",{className:"totalPrice",children:[" Total a pagar $",a()]})]})})},Fp=e=>{let{orderId:t}=e;const{clear:n}=(0,i.useContext)(oe),[r,s]=(0,i.useState)(!1);return(0,ae.jsxs)("div",{className:"bckOrder",children:[(0,ae.jsx)("h1",{className:"titleSuccess",children:"\xa1Felicitaciones, tu orden est\xe1 concretada!"}),(0,ae.jsxs)("p",{className:"textSuccess",children:["Su orden es ",t]}),(0,ae.jsx)(Z,{to:"/",onClick:()=>n(),children:"Volver a P\xe1gina principal"}),(0,ae.jsx)("button",{className:"btnOrder",onClick:()=>s(!0),children:"Ver Orden"}),(0,ae.jsx)(Mp,{stateModal:r,closeModal:()=>s(!1),orderId:t})]})},jp=()=>{const[e,t]=(0,i.useState)("");return e?(0,ae.jsx)(Fp,{orderId:e}):(0,ae.jsx)("div",{children:(0,ae.jsx)(Lp,{changeId:e=>{t(e)}})})},Vp=()=>(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{className:"container404"}),(0,ae.jsx)(ee,{className:"actv",to:"/",children:"Regresar a p\xe1gina pricipal"})]}),Up=()=>(0,ae.jsxs)("div",{className:"footer",children:[(0,ae.jsxs)("div",{className:"containerLg",children:[(0,ae.jsx)("img",{src:"https://res.cloudinary.com/ds7jaqjll/image/upload/v1664333333/Wish-Him/logo_zj6g8d.png",alt:"logo",className:"imgFooter"}),(0,ae.jsx)("p",{children:"WISH HIM es una tienda de regalos d\xf3nde podr\xe1s encontrar el obsequio ideal para tu novio, tu marido, amante tu amigo o para la persona que desees. "})]}),(0,ae.jsxs)("div",{className:"containerSocialMedia",children:[(0,ae.jsx)(Z,{to:"*",children:(0,ae.jsx)("img",{src:"https://res.cloudinary.com/ds7jaqjll/image/upload/v1665880252/Wish-Him/instagram-01_xltxzc.png",alt:"instagram"})}),(0,ae.jsx)(Z,{to:"*",children:(0,ae.jsx)("img",{src:"https://res.cloudinary.com/ds7jaqjll/image/upload/v1665879724/Wish-Him/facebook-01_nsj6be.png",alt:"facebook"})}),(0,ae.jsx)(Z,{to:"*",children:(0,ae.jsx)("img",{src:"https://res.cloudinary.com/ds7jaqjll/image/upload/v1665879562/Wish-Him/twitter-01_qxhqrn.png",alt:"twitter"})})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h2",{children:"Contacto"}),(0,ae.jsxs)("div",{className:"containerContact",children:[(0,ae.jsx)("img",{src:"https://res.cloudinary.com/ds7jaqjll/image/upload/v1665880701/Wish-Him/adress-01_ozhjrq.png",alt:"direcci\xf3n"}),(0,ae.jsx)("p",{children:"C\xf3rdoba 1234 - C\xf3rdoba Capital,C\xf3rdoba"})]}),(0,ae.jsxs)("div",{className:"containerContact",children:[(0,ae.jsx)("img",{src:"https://res.cloudinary.com/ds7jaqjll/image/upload/v1665880401/Wish-Him/email-01_slctv5.png",alt:"mail"}),(0,ae.jsx)("p",{children:"wish-him@wishhim.com"})]}),(0,ae.jsxs)("div",{className:"containerContact",children:[(0,ae.jsx)("img",{src:"https://res.cloudinary.com/ds7jaqjll/image/upload/v1665880252/Wish-Him/phone-01_gbuyvs.png",alt:"tel\xe9fono"}),(0,ae.jsx)("p",{children:"Tel\xe9fono:0351-153478952"})]})]})]});const zp=function(){return(0,ae.jsx)(le,{children:(0,ae.jsx)(J,{children:(0,ae.jsxs)("div",{className:"container",children:[(0,ae.jsx)(ce,{}),(0,ae.jsxs)(K,{children:[(0,ae.jsx)(H,{exact:!0,path:"/",element:(0,ae.jsx)(Ap,{})}),(0,ae.jsx)(H,{exact:!0,path:"/category/:id",element:(0,ae.jsx)(Ip,{})}),(0,ae.jsx)(H,{exact:!0,path:"/item/:id",element:(0,ae.jsx)(Tp,{})}),(0,ae.jsx)(H,{exact:!0,path:"/cart",element:(0,ae.jsx)(Pp,{})}),(0,ae.jsx)(H,{exact:!0,path:"/checkout",element:(0,ae.jsx)(jp,{})}),(0,ae.jsx)(H,{path:"*",element:(0,ae.jsx)(Vp,{})})]}),(0,ae.jsx)(Up,{})]})})})};Bt("firebase","9.23.0","app");zt({apiKey:"AIzaSyD33K0ZTDHbIZ-I2gataxj_dp-zqJOdEj0",authDomain:"wish-him.firebaseapp.com",projectId:"wish-him",storageBucket:"wish-him.appspot.com",messagingSenderId:"654304093540",appId:"1:654304093540:web:3db6b0b3fddf5860ab8671"});s.createRoot(document.getElementById("root")).render((0,ae.jsx)(i.StrictMode,{children:(0,ae.jsx)(zp,{})}))})();
//# sourceMappingURL=main.c6c70b06.js.map